/*! For license information please see core-login.js.LICENSE.txt */
(()=>{var e,o={21483:(e,o,i)=>{"use strict";var a=i(20144),s=i(74854),r=i(19755),l=i.n(r),c=i(79753),d=i(25108);const u={},p=[];var f=i(18181),h=i(64024),m=i(25108);const g={updatableNotification:null,getDefaultNotificationFunction:null,setDefault(e){this.getDefaultNotificationFunction=e},hide(e,t){f.ZP.isFunction(e)&&(t=e,e=void 0),e?(e.each((function(){l()(this)[0].toastify?l()(this)[0].toastify.hideToast():m.error("cannot hide toast because object is not set"),this===this.updatableNotification&&(this.updatableNotification=null)})),t&&t.call(),this.getDefaultNotificationFunction&&this.getDefaultNotificationFunction()):m.error("Missing argument $row in OC.Notification.hide() call, caller needs to be adjusted to only dismiss its own notification")},showHtml(e,t){(t=t||{}).isHTML=!0,t.timeout=t.timeout?t.timeout:h.Rl;const n=(0,h.PV)(e,t);return n.toastElement.toastify=n,l()(n.toastElement)},show(e,t){(t=t||{}).timeout=t.timeout?t.timeout:h.Rl;const n=(0,h.PV)(function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;").split("'").join("&#039;")}(e),t);return n.toastElement.toastify=n,l()(n.toastElement)},showUpdate(e){return this.updatableNotification&&this.updatableNotification.hideToast(),this.updatableNotification=(0,h.PV)(e,{timeout:h.Rl}),this.updatableNotification.toastElement.toastify=this.updatableNotification,l()(this.updatableNotification.toastElement)},showTemporary(e,t){(t=t||{}).timeout=t.timeout||h.TN;const n=(0,h.PV)(e,t);return n.toastElement.toastify=n,l()(n.toastElement)},isHidden:()=>!l()("#content").find(".toastify").length},v=f.ZP.throttle((()=>{g.showTemporary(t("core","Connection to server lost"))}),7e3,{trailing:!1});let w=!1;const y={enableDynamicSlideToggle(){w=!0},showAppSidebar:function(e){(e||l()("#app-sidebar")).removeClass("disappear").show(),l()("#app-content").trigger(new(l().Event)("appresized"))},hideAppSidebar:function(e){(e||l()("#app-sidebar")).hide().addClass("disappear"),l()("#app-content").trigger(new(l().Event)("appresized"))}};function b(e,t,n){"post"!==e&&"delete"!==e||!ze.PasswordConfirmation.requiresPasswordConfirmation()?(n=n||{},l().ajax({type:e.toUpperCase(),url:(0,c.generateOcsUrl)("apps/provisioning_api/api/v1/config/apps")+t,data:n.data||{},success:n.success,error:n.error})):ze.PasswordConfirmation.requirePasswordConfirmation(_.bind(b,this,e,t,n))}const C=window.oc_appconfig||{},P={getValue:function(e,t,n,o){!function(e,t,n,o){(o=o||{}).data={defaultValue:n},b("get","/"+e+"/"+t,o)}(e,t,n,{success:o})},setValue:function(e,t,n){!function(e,t,n,o){(o=o||{}).data={value:n},b("post","/"+e+"/"+t,o)}(e,t,n)},getApps:function(e){!function(e){b("get","",e)}({success:e})},getKeys:function(e,t){!function(e,t){b("get","/"+e,t)}(e,{success:t})},deleteKey:function(e,t){!function(e,t,n){b("delete","/"+e+"/"+t,void 0)}(e,t)}};var A=i(25108);const k=void 0!==window._oc_appswebroots&&window._oc_appswebroots;var x=i(72316),T=i.n(x),O=i(76591),E=i(25108);const j={create:"POST",update:"PROPPATCH",patch:"PROPPATCH",delete:"DELETE",read:"PROPFIND"};function S(e,t){if(f.ZP.isArray(e))return f.ZP.map(e,(function(e){return S(e,t)}));var n={href:e.href};return f.ZP.each(e.propStat,(function(e){if("HTTP/1.1 200 OK"===e.status)for(var o in e.properties){var i=o;o in t&&(i=t[o]),n[i]=e.properties[o]}})),n.id||(n.id=L(n.href)),n}function L(e){var t=e.indexOf("?");t>0&&(e=e.substr(0,t));var n,o=e.split("/");do{n=o[o.length-1],o.pop()}while(!n&&o.length>0);return n}function N(e){return e>=200&&e<=299}function I(e,t,n,o){return e.propPatch(t.url,function(e,t){var n,o={};for(n in e){var i=t[n],a=e[n];i||(E.warn('No matching DAV property for property "'+n),i=n),(f.ZP.isBoolean(a)||f.ZP.isNumber(a))&&(a=""+a),o[i]=a}return o}(n.changed,t.davProperties),o).then((function(e){N(e.status)?f.ZP.isFunction(t.success)&&t.success(n.toJSON()):f.ZP.isFunction(t.error)&&t.error(e)}))}const F=T().noConflict();Object.assign(F,{davCall:(e,t)=>{var n=new O.dav.Client({baseUrl:e.url,xmlNamespaces:f.ZP.extend({"DAV:":"d","http://owncloud.org/ns":"oc"},e.xmlNamespaces||{})});n.resolveUrl=function(){return e.url};var o=f.ZP.extend({"X-Requested-With":"XMLHttpRequest",requesttoken:OC.requestToken},e.headers);return"PROPFIND"===e.type?function(e,t,n,o){return e.propFind(t.url,f.ZP.values(t.davProperties)||[],t.depth,o).then((function(e){if(N(e.status)){if(f.ZP.isFunction(t.success)){var n=f.ZP.invert(t.davProperties),o=S(e.body,n);t.depth>0&&o.shift(),t.success(o)}}else f.ZP.isFunction(t.error)&&t.error(e)}))}(n,e,0,o):"PROPPATCH"===e.type?I(n,e,t,o):"MKCOL"===e.type?function(e,t,n,o){return e.request(t.type,t.url,o,null).then((function(i){N(i.status)?I(e,t,n,o):f.ZP.isFunction(t.error)&&t.error(i)}))}(n,e,t,o):function(e,t,n,o){return o["Content-Type"]="application/json",e.request(t.type,t.url,o,t.data).then((function(e){if(N(e.status)){if(f.ZP.isFunction(t.success)){if("PUT"===t.type||"POST"===t.type||"MKCOL"===t.type){var o=e.body||n.toJSON(),i=e.xhr.getResponseHeader("Content-Location");return"POST"===t.type&&i&&(o.id=L(i)),void t.success(o)}if(207===e.status){var a=f.ZP.invert(t.davProperties);t.success(S(e.body,a))}else t.success(e.body)}}else f.ZP.isFunction(t.error)&&t.error(e)}))}(n,e,t,o)},davSync:(e=>(t,n,o)=>{var i={type:j[t]||t},a=n instanceof e.Collection;if("update"===t&&(n.hasInnerCollection?i.type="MKCOL":(n.usePUT||n.collection&&n.collection.usePUT)&&(i.type="PUT")),o.url||(i.url=f.ZP.result(n,"url")||function(){throw new Error('A "url" property or function must be specified')}()),null!=o.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(i.data=JSON.stringify(o.attrs||n.toJSON(o))),"PROPFIND"!==i.type&&(i.processData=!1),"PROPFIND"===i.type||"PROPPATCH"===i.type){var s=n.davProperties;!s&&n.model&&(s=n.model.prototype.davProperties),s&&(f.ZP.isFunction(s)?i.davProperties=s.call(n):i.davProperties=s),i.davProperties=f.ZP.extend(i.davProperties||{},o.davProperties),f.ZP.isUndefined(o.depth)&&(o.depth=a?1:0)}var r=o.error;o.error=function(e,t,n){o.textStatus=t,o.errorThrown=n,r&&r.call(o.context,e,t,n)};var l=o.xhr=e.davCall(f.ZP.extend(i,o),n);return n.trigger("request",n,l,o),l})(F)});const $=F;var U=i(65358);const R=window._oc_config||{};var M=i(25108);const D=x.Model.extend({defaults:{fullName:"",lastMessage:"",actions:[],hasOneAction:!1,hasTwoActions:!1,hasManyActions:!1},initialize:function(){0===this.get("actions").length?this.set("hasOneAction",!0):1===this.get("actions").length?(this.set("hasTwoActions",!0),this.set("secondAction",this.get("actions")[0])):this.set("hasManyActions",!0);const e=this.get("fullName");this.get("avatar")&&e&&this.set("avatarLabel",t("core","Avatar of {fullName}",{fullName:e}))}}),z=x.Collection.extend({model:D}),B=x.View.extend({_collection:void 0,_subViews:[],tagName:"ul",initialize:function(e){this._collection=e.collection},render:function(){var e=this;return e.$el.html(""),e._subViews=[],e._collection.forEach((function(t){var n=new Z({model:t});n.render(),e.$el.append(n.$el),n.on("toggle:actionmenu",e._onChildActionMenuToggle,e),e._subViews.push(n)})),e},_onChildActionMenuToggle:function(e){this._subViews.forEach((function(t){t.trigger("parent:toggle:actionmenu",e)}))}}),Z=x.View.extend({className:"contact",tagName:"li",_template:void 0,_model:void 0,_actionMenuShown:!1,events:{"click .icon-more":"_onToggleActionsMenu"},contactTemplate:i(10944),template:function(e){return this.contactTemplate(e)},initialize:function(e){this._model=e.model,this.on("parent:toggle:actionmenu",this._onOtherActionMenuOpened,this)},render:function(){return this.$el.html(this.template({contact:this._model.toJSON()})),this.delegateEvents(),this.$("div.avatar").imageplaceholder(this._model.get("fullName")),this},_onToggleActionsMenu:function(){this._actionMenuShown=!this._actionMenuShown,this._actionMenuShown?this.$(".menu").show():this.$(".menu").hide(),this.trigger("toggle:actionmenu",this.$el)},_onOtherActionMenuOpened:function(e){this.$el.is(e)||(this._actionMenuShown=!1,this.$(".menu").hide())}}),q=x.View.extend({_loadingTemplate:void 0,_errorTemplate:void 0,_contentTemplate:void 0,_contactsTemplate:void 0,_contacts:void 0,_searchTerm:"",events:{"input #contactsmenu-search":"_onSearch"},templates:{loading:i(95386),error:i(20421),menu:i(66115),list:i(34083)},_onSearch:f.ZP.debounce((function(e){var t=this.$("#contactsmenu-search").val();t!==this._searchTerm&&(this.trigger("search",this.$("#contactsmenu-search").val()),this._searchTerm=t)}),700),loadingTemplate:function(e){return this.templates.loading(e)},errorTemplate:function(e){return this.templates.error(f.ZP.extend({couldNotLoadText:t("core","Could not load your contacts")},e))},contentTemplate:function(e){return this.templates.menu(f.ZP.extend({searchContactsText:t("core","Search contacts …")},e))},contactsTemplate:function(e){return this.templates.list(f.ZP.extend({noContactsFoundText:t("core","No contacts found"),showAllContactsText:t("core","Show all contacts …"),contactsAppMgmtText:t("core","Install the Contacts app")},e))},initialize:function(e){this.options=e},showLoading:function(e){this.render(),this._contacts=void 0,this.$(".content").html(this.loadingTemplate({loadingText:e}))},showError:function(){this.render(),this._contacts=void 0,this.$(".content").html(this.errorTemplate())},showContacts:function(e,t){this._contacts=e.contacts,this.render({contacts:e.contacts});var n=new B({collection:e.contacts});n.render(),this.$(".content").html(this.contactsTemplate({contacts:e.contacts,searchTerm:t,contactsAppEnabled:e.contactsAppEnabled,contactsAppURL:ze.generateUrl("/apps/contacts"),canInstallApp:ze.isUserAdmin(),contactsAppMgmtURL:ze.generateUrl("/settings/apps/social/contacts")})),this.$("#contactsmenu-contacts").html(n.$el)},render:function(e){var t=this.$("#contactsmenu-search").val();return this.$el.html(this.contentTemplate(e)),this.$("#contactsmenu-search").val(t),this.$("#contactsmenu-search").focus(),this}}),H=function(e){this.initialize(e)};H.prototype={$el:void 0,_view:void 0,_contactsPromise:void 0,initialize:function(e){this.$el=l()(e.el),this._view=new q({el:this.$el}),this._view.on("search",(function(e){this.loadContacts(e)}),this)},_getContacts:function(e){var t=ze.generateUrl("/contactsmenu/contacts");return Promise.resolve(l().ajax(t,{method:"POST",data:{filter:e}}))},loadContacts:function(e){var n=this;return n._contactsPromise||(n._contactsPromise=n._getContacts(e)),f.ZP.isUndefined(e)||""===e?n._view.showLoading(t("core","Loading your contacts …")):n._view.showLoading(t("core","Looking for {term} …",{term:e})),n._contactsPromise.then((function(t){t.contacts=new z(t.contacts),n._view.showContacts(t,e)}),(function(e){n._view.showError(),M.error("There was an error loading your contacts",e)})).then((function(){delete n._contactsPromise})).catch(M.error.bind(this))}};const Y=H,K=document.getElementsByTagName("head")[0].getAttribute("data-user"),V=document.getElementsByTagName("head")[0].getAttribute("data-user-displayname"),G=void 0!==K&&K;var J=i(25108);const W={Search:class{constructor(){J.warn("OCA.Search is deprecated. Please use the unified search API instead")}}},Q=e=>"click"===e.type||"keydown"===e.type&&"Enter"===e.key;var X=i(25108);const ee={YES_NO_BUTTONS:70,OK_BUTTONS:71,FILEPICKER_TYPE_CHOOSE:1,FILEPICKER_TYPE_MOVE:2,FILEPICKER_TYPE_COPY:3,FILEPICKER_TYPE_COPY_MOVE:4,FILEPICKER_TYPE_CUSTOM:5,dialogsCounter:0,alert:function(e,t,n,o){this.message(e,t,"alert",ee.OK_BUTTON,n,o)},info:function(e,t,n,o){this.message(e,t,"info",ee.OK_BUTTON,n,o)},confirm:function(e,t,n,o){return this.message(e,t,"notice",ee.YES_NO_BUTTONS,n,o)},confirmDestructive:function(e,t,n,o,i){return this.message(e,t,"none",n,o,void 0===i||i)},confirmHtml:function(e,t,n,o){return this.message(e,t,"notice",ee.YES_NO_BUTTONS,n,o,!0)},prompt:function(e,n,o,i,a,s){return l().when(this._getMessageTemplate()).then((function(r){var c="oc-dialog-"+ee.dialogsCounter+"-content",d="#"+c,u=r.octemplate({dialog_name:c,title:n,message:e,type:"notice"}),p=l()("<input/>");p.attr("type",s?"password":"text").attr("id",c+"-input").attr("placeholder",a);var h=l()("<label/>").attr("for",c+"-input").text(a+": ");u.append(h),u.append(p),void 0===i&&(i=!1),l()("body").append(u),void 0!==o&&(o=f.ZP.once(o));var m=[{text:t("core","No"),click:function(){void 0!==o&&o(!1,p.val()),l()(d).ocdialog("close")}},{text:t("core","Yes"),click:function(){void 0!==o&&o(!0,p.val()),l()(d).ocdialog("close")},defaultButton:!0}];l()(d).ocdialog({closeOnEscape:!0,modal:i,buttons:m,close:function(){void 0!==o&&o(!1,p.val())}}),p.focus(),ee.dialogsCounter++}))},filepicker:function(e,n,o,i,a,s,r,c){var d=this;if(this.filepicker.sortField="name",this.filepicker.sortOrder="asc",!this.filepicker.loading){void 0===s&&(s=this.FILEPICKER_TYPE_CHOOSE);var u=t("core","No files in here"),p=t("files","New folder");s!==this.FILEPICKER_TYPE_COPY&&s!==this.FILEPICKER_TYPE_MOVE&&s!==this.FILEPICKER_TYPE_COPY_MOVE||(u=t("core","No more subfolders in here")),this.filepicker.loading=!0,this.filepicker.filesClient=W.Sharing&&W.Sharing.PublicApp&&W.Sharing.PublicApp.fileList?W.Sharing.PublicApp.fileList.filesClient:ze.Files.getClient(),this.filelist=null,r=r||"",c=Object.assign({allowDirectoryChooser:!1},c),l().when(this._getFilePickerTemplate()).then((function(f){d.filepicker.loading=!1,d.$filePicker&&d.$filePicker.ocdialog("close"),null==i&&(i=[]),"string"==typeof i&&(i=[i]),d.$filePicker=f.octemplate({dialog_name:"oc-dialog-filepicker-content",title:e,emptytext:u,newtext:p,nameCol:t("core","Name"),sizeCol:t("core","Size"),modifiedCol:t("core","Modified")}).data("path",r).data("multiselect",o).data("mimetype",i).data("allowDirectoryChooser",c.allowDirectoryChooser),"function"==typeof c.filter&&d.$filePicker.data("filter",c.filter),void 0===a&&(a=!1),void 0===o&&(o=!1),l()("body").prepend(d.$filePicker),d.$showGridView=l()("button#picker-showgridview"),d.$showGridView.on("click keydown",(function(e){Q(e)&&d._onGridviewChange()})),d._getGridSettings();var h=d.$filePicker.find(".actions.creatable .button-add");s!==d.FILEPICKER_TYPE_CHOOSE||c.allowDirectoryChooser||d.$filePicker.find(".actions.creatable").hide(),h.on("focus",(function(){d.$filePicker.ocdialog("setEnterCallback",(function(e){e.stopImmediatePropagation(),e.preventDefault(),h.click()}))})),h.on("blur",(function(){d.$filePicker.ocdialog("unsetEnterCallback")})),ze.registerMenu(h,d.$filePicker.find(".menu"),(function(){g.tooltip("hide"),g.focus(),d.$filePicker.ocdialog("setEnterCallback",(function(e){e.stopImmediatePropagation(),e.preventDefault(),d.$filePicker.submit()}));var e=g.val(),t=e.lastIndexOf(".");-1===t&&(t=e.length),g.selectRange(0,t)}));var m=d.$filePicker.find(".filenameform"),g=m.find("input[type='text']"),v=m.find("input[type='submit']");g.on("keydown",(function(e){Q(e)&&(e.stopImmediatePropagation(),e.preventDefault(),m.submit())})),v.on("click",(function(e){e.stopImmediatePropagation(),e.preventDefault(),m.submit()}));m.on("submit",(function(e){if(e.stopPropagation(),e.preventDefault(),function(){var e=g.val();try{if(function(e){var n=e.trim();if("."===n||".."===n)throw t("files",'"{name}" is an invalid file name.',{name:e});if(0===n.length)throw t("files","File name cannot be empty.");if(-1!==n.indexOf("/"))throw t("files",'"/" is not allowed inside a file name.');if(n.match(ze.config.blacklist_files_regex))throw t("files",'"{name}" is not an allowed filetype',{name:e});return!0}(e)){if(d.filelist.find((function(e){return e.name===this}),e))throw t("files","{newName} already exists",{newName:e},void 0,{escape:!1});return!0}}catch(e){g.attr("title",e),g.tooltip({placement:"right",trigger:"manual",container:".newFolderMenu"}),g.tooltip("_fixTitle"),g.tooltip("show"),g.addClass("error")}return!1}()){var n=g.val();d.filepicker.filesClient.createDirectory(d.$filePicker.data("path")+"/"+n).always((function(e){d._fillFilePicker(d.$filePicker.data("path")+"/"+n,s)})),ze.hideMenus(),d.$filePicker.ocdialog("unsetEnterCallback"),d.$filePicker.click(),g.val(p)}})),g.on("input",(function(e){g.tooltip("hide")})),d.$filePicker.ready((function(){d.$fileListHeader=d.$filePicker.find(".filelist thead tr"),d.$filelist=d.$filePicker.find(".filelist tbody"),d.$filelistContainer=d.$filePicker.find(".filelist-container"),d.$dirTree=d.$filePicker.find(".dirtree"),d.$dirTree.on("click keydown","div:not(:last-child)",d,(function(e){Q(e)&&d._handleTreeListSelect(e,s)})),d.$filelist.on("click keydown","tr",(function(e){Q(e)&&d._handlePickerClick(e,l()(this),s)})),d.$fileListHeader.on("click keydown","a",(function(e){if(Q(e)){var t=d.$filePicker.data("path");d.filepicker.sortField=l()(e.currentTarget).data("sort"),d.filepicker.sortOrder="asc"===d.filepicker.sortOrder?"desc":"asc",d._fillFilePicker(t,s)}})),d._fillFilePicker(r,s)}));var w=function(e){if(void 0!==n){var t;if(!0===o)t=[],d.$filelist.find("tr.filepicker_element_selected").each((function(e,n){t.push(d.$filePicker.data("path")+"/"+l()(n).data("entryname"))}));else{t=d.$filePicker.data("path");var i=d.$filelist.find("tr.filepicker_element_selected").data("entryname");i&&(t+="/"+i)}n(t,e),d.$filePicker.ocdialog("close")}},y=[];s===ee.FILEPICKER_TYPE_CHOOSE?y.push({text:t("core","Choose"),click:function(){w(ee.FILEPICKER_TYPE_CHOOSE)},defaultButton:!0}):s===ee.FILEPICKER_TYPE_CUSTOM?c.buttons.forEach((function(e){y.push({text:e.text,click:function(){w(e.type)},defaultButton:e.defaultButton})})):(s!==ee.FILEPICKER_TYPE_COPY&&s!==ee.FILEPICKER_TYPE_COPY_MOVE||y.push({text:t("core","Copy"),click:function(){w(ee.FILEPICKER_TYPE_COPY)},defaultButton:!1}),s!==ee.FILEPICKER_TYPE_MOVE&&s!==ee.FILEPICKER_TYPE_COPY_MOVE||y.push({text:t("core","Move"),click:function(){w(ee.FILEPICKER_TYPE_MOVE)},defaultButton:!0})),d.$filePicker.ocdialog({closeOnEscape:!0,width:600,height:500,modal:a,buttons:y,style:{buttons:"aside"},close:function(){try{l()(this).ocdialog("destroy").remove()}catch(e){}d.$filePicker=null}});var b=d.$filePicker.closest(".oc-dialog").find(".primary");-1!==d.$filePicker.data("mimetype").indexOf("httpd/unix-directory")||d.$filePicker.data("allowDirectoryChooser")?b.prop("disabled",!1):b.prop("disabled",!0)})).fail((function(e,n){d.filepicker.loading=!1,0!==e&&alert(t("core","Error loading file picker template: {error}",{error:n}))}))}},message:function(e,n,o,i,a,s,r){return l().when(this._getMessageTemplate()).then((function(c){var d="oc-dialog-"+ee.dialogsCounter+"-content",u="#"+d,p=c.octemplate({dialog_name:d,title:n,message:e,type:o},r?{escapeFunction:""}:{});void 0===s&&(s=!1),l()("body").append(p);var f=[];switch(i){case ee.YES_NO_BUTTONS:f=[{text:t("core","No"),click:function(){void 0!==a&&a(!1),l()(u).ocdialog("close")}},{text:t("core","Yes"),click:function(){void 0!==a&&a(!0),l()(u).ocdialog("close")},defaultButton:!0}];break;case ee.OK_BUTTON:f[0]={text:t("core","OK"),click:function(){l()(u).ocdialog("close"),void 0!==a&&a()},defaultButton:!0};break;default:"object"==typeof i&&i.type===ee.YES_NO_BUTTONS&&(f=[{text:i.cancel||t("core","No"),click:function(){void 0!==a&&a(!1),l()(u).ocdialog("close")}},{text:i.confirm||t("core","Yes"),click:function(){void 0!==a&&a(!0),l()(u).ocdialog("close")},defaultButton:!0,classes:i.confirmClasses}])}l()(u).ocdialog({closeOnEscape:!0,closeCallback:()=>{a&&a(!1)},modal:s,buttons:f}),ee.dialogsCounter++})).fail((function(o,i){0===o?alert(n+": "+e):alert(t("core","Error loading message template: {error}",{error:i}))}))},_fileexistsshown:!1,fileexists:function(e,o,i,a){var s=this,r=new(l().Deferred),c=function(e,t,n,o,i){o=Math.round(o),i=Math.round(i);for(var a=e.getContext("2d").getImageData(0,0,t,n),s=e.getContext("2d").getImageData(0,0,o,i),r=a.data,l=s.data,c=t/o,d=n/i,u=Math.ceil(c/2),p=Math.ceil(d/2),f=0;f<i;f++)for(var h=0;h<o;h++){for(var m=4*(h+f*o),g=0,v=0,w=0,y=0,b=0,_=0,C=0,P=(f+.5)*d,A=Math.floor(f*d);A<(f+1)*d;A++)for(var k=Math.abs(P-(A+.5))/p,x=(h+.5)*c,T=k*k,O=Math.floor(h*c);O<(h+1)*c;O++){var E=Math.abs(x-(O+.5))/u,j=Math.sqrt(T+E*E);j>=-1&&j<=1&&(g=2*j*j*j-3*j*j+1)>0&&(C+=g*r[3+(E=4*(O+A*t))],w+=g,r[E+3]<255&&(g=g*r[E+3]/250),y+=g*r[E],b+=g*r[E+1],_+=g*r[E+2],v+=g)}l[m]=y/v,l[m+1]=b/v,l[m+2]=_/v,l[m+3]=C/w}e.getContext("2d").clearRect(0,0,Math.max(t,o),Math.max(n,i)),e.width=o,e.height=i,e.getContext("2d").putImageData(s,0,0)},d=function(n,o,i){var a=n.find(".template").clone().removeClass("template").addClass("conflict"),s=a.find(".original"),r=a.find(".replacement");a.data("data",e),a.find(".filename").text(o.name),s.find(".size").text(ze.Util.humanFileSize(o.size)),s.find(".mtime").text(ze.Util.formatDate(o.mtime)),i.size&&i.lastModified&&(r.find(".size").text(ze.Util.humanFileSize(i.size)),r.find(".mtime").text(ze.Util.formatDate(i.lastModified)));var d=o.directory+"/"+o.name,u={file:d,x:96,y:96,c:o.etag,forceIcon:0},p=Files.generatePreviewUrl(u);p=p.replace(/'/g,"%27"),s.find(".icon").css({"background-image":"url('"+p+"')"}),function(e){var t=new(l().Deferred),n=e.type&&e.type.split("/").shift();if(window.FileReader&&"image"===n){var o=new FileReader;o.onload=function(e){var n=new Blob([e.target.result]);window.URL=window.URL||window.webkitURL;var o=window.URL.createObjectURL(n),i=new Image;i.src=o,i.onload=function(){var e,n,o,a,s,r,l,d=(e=i,s=document.createElement("canvas"),r=e.width,l=e.height,r>l?(o=0,n=(r-l)/2):(o=(l-r)/2,n=0),a=Math.min(r,l),s.width=a,s.height=a,s.getContext("2d").drawImage(e,n,o,a,a,0,0,a,a),c(s,a,a,96,96),s.toDataURL("image/png",.7));t.resolve(d)}},o.readAsArrayBuffer(e)}else t.reject();return t}(i).then((function(e){r.find(".icon").css("background-image","url("+e+")")}),(function(){d=ze.MimeType.getIconUrl(i.type),r.find(".icon").css("background-image","url("+d+")")}));var f=n.find(".conflict").length;s.find("input:checkbox").attr("id","checkbox_original_"+f),r.find("input:checkbox").attr("id","checkbox_replacement_"+f),n.append(a),i.lastModified>o.mtime?r.find(".mtime").css("font-weight","bold"):i.lastModified<o.mtime&&s.find(".mtime").css("font-weight","bold"),i.size&&i.size>o.size?r.find(".size").css("font-weight","bold"):i.size&&i.size<o.size&&s.find(".size").css("font-weight","bold"),"readonly"===o.status&&(s.addClass("readonly").find('input[type="checkbox"]').prop("checked",!0).prop("disabled",!0),s.find(".message").text(t("core","read-only")))},u="oc-dialog-fileexists-content",p="#"+u;if(this._fileexistsshown){var f=l()(p+" .conflicts");d(f,o,i);var h=l()(p+" .conflict").length,m=n("core","{count} file conflict","{count} file conflicts",h,{count:h});l()(p).parent().children(".oc-dialog-title").text(m),l()(window).trigger("resize"),r.resolve()}else this._fileexistsshown=!0,l().when(this._getFileExistsTemplate()).then((function(n){var c=t("core","One file conflict"),f=n.octemplate({dialog_name:u,title:c,type:"fileexists",allnewfiles:t("core","New Files"),allexistingfiles:t("core","Already existing files"),why:t("core","Which files do you want to keep?"),what:t("core","If you select both versions, the copied file will have a number added to its name.")});if(l()("body").append(f),o&&i){var h=f.find(".conflicts");d(h,o,i)}var m=[{text:t("core","Cancel"),classes:"cancel",click:function(){void 0!==a.onCancel&&a.onCancel(e),l()(p).ocdialog("close")}},{text:t("core","Continue"),classes:"continue",click:function(){void 0!==a.onContinue&&a.onContinue(l()(p+" .conflict")),l()(p).ocdialog("close")}}];l()(p).ocdialog({width:500,closeOnEscape:!0,modal:!0,buttons:m,closeButton:null,close:function(){s._fileexistsshown=!1;try{l()(this).ocdialog("destroy").remove()}catch(e){}}}),l()(p).css("height","auto");var g=f.closest(".oc-dialog").find("button.continue");function v(){var e=f.find(".conflicts .checkbox:checked").length;g.prop("disabled",0===e)}g.prop("disabled",!0),l()(p).find(".allnewfiles").on("click",(function(){l()(p).find('.conflict .replacement input[type="checkbox"]').prop("checked",l()(this).prop("checked"))})),l()(p).find(".allexistingfiles").on("click",(function(){l()(p).find('.conflict .original:not(.readonly) input[type="checkbox"]').prop("checked",l()(this).prop("checked"))})),l()(p).find(".conflicts").on("click",".replacement,.original:not(.readonly)",(function(){var e=l()(this).find('input[type="checkbox"]');e.prop("checked",!e.prop("checked"))})),l()(p).find(".conflicts").on("click",'.replacement input[type="checkbox"],.original:not(.readonly) input[type="checkbox"]',(function(){var e=l()(this);e.prop("checked",!e.prop("checked"))})),l()(p).on("click",".replacement,.allnewfiles",(function(){var e=l()(p).find('.conflict .replacement input[type="checkbox"]:checked').length;e===l()(p+" .conflict").length?(l()(p).find(".allnewfiles").prop("checked",!0),l()(p).find(".allnewfiles + .count").text(t("core","(all selected)"))):e>0?(l()(p).find(".allnewfiles").prop("checked",!1),l()(p).find(".allnewfiles + .count").text(t("core","({count} selected)",{count:e}))):(l()(p).find(".allnewfiles").prop("checked",!1),l()(p).find(".allnewfiles + .count").text("")),v()})),l()(p).on("click",".original,.allexistingfiles",(function(){var e=l()(p).find('.conflict .original input[type="checkbox"]:checked').length;e===l()(p+" .conflict").length?(l()(p).find(".allexistingfiles").prop("checked",!0),l()(p).find(".allexistingfiles + .count").text(t("core","(all selected)"))):e>0?(l()(p).find(".allexistingfiles").prop("checked",!1),l()(p).find(".allexistingfiles + .count").text(t("core","({count} selected)",{count:e}))):(l()(p).find(".allexistingfiles").prop("checked",!1),l()(p).find(".allexistingfiles + .count").text("")),v()})),r.resolve()})).fail((function(){r.reject(),alert(t("core","Error loading file exists template"))}));return r.promise()},_getGridSettings:function(){const e=this;l().get(ze.generateUrl("/apps/files/api/v1/showgridview"),(function(n){e.$showGridView.removeClass("icon-toggle-filelist icon-toggle-pictures").addClass(n.gridview?"icon-toggle-filelist":"icon-toggle-pictures"),e.$showGridView.attr("aria-label",n.gridview?t("files","Show list view"):t("files","Show grid view")),l()(".list-container").toggleClass("view-grid",n.gridview)}))},_onGridviewChange:function(){const e=this.$showGridView.hasClass("icon-toggle-filelist");ze.currentUser&&l().post(ze.generateUrl("/apps/files/api/v1/showgridview"),{show:!e}),this.$showGridView.removeClass("icon-toggle-filelist icon-toggle-pictures").addClass(e?"icon-toggle-pictures":"icon-toggle-filelist"),this.$showGridView.attr("aria-label",e?t("files","Show grid view"):t("files","Show list view")),this.$filePicker.find(".list-container").toggleClass("view-grid",!e)},_getFilePickerTemplate:function(){var e=l().Deferred();if(this.$filePickerTemplate)e.resolve(this.$filePickerTemplate);else{var t=this;l().get(ze.filePath("core","templates","filepicker.html"),(function(n){t.$filePickerTemplate=l()(n),t.$listTmpl=t.$filePickerTemplate.find(".filelist tbody tr:first-child").detach(),e.resolve(t.$filePickerTemplate)})).fail((function(t,n,o){e.reject(t.status,o)}))}return e.promise()},_getMessageTemplate:function(){var e=l().Deferred();if(this.$messageTemplate)e.resolve(this.$messageTemplate);else{var t=this;l().get(ze.filePath("core","templates","message.html"),(function(n){t.$messageTemplate=l()(n),e.resolve(t.$messageTemplate)})).fail((function(t,n,o){e.reject(t.status,o)}))}return e.promise()},_getFileExistsTemplate:function(){var e=l().Deferred();if(this.$fileexistsTemplate)e.resolve(this.$fileexistsTemplate);else{var t=this;l().get(ze.filePath("files","templates","fileexists.html"),(function(n){t.$fileexistsTemplate=l()(n),e.resolve(t.$fileexistsTemplate)})).fail((function(){e.reject()}))}return e.promise()},_getFileList:function(e,t){return"string"==typeof t&&(t=[t]),l().getJSON(ze.filePath("files","ajax","list.php"),{dir:e,mimetypes:JSON.stringify(t)})},_fillFilePicker:async function(e,n){var o=this;this.$filelist.empty(),this.$filePicker.find(".emptycontent").hide(),this.$filelistContainer.addClass("icon-loading"),this.$filePicker.data("path",e);var i=this.$filePicker.data("mimetype"),a=this.$filePicker.data("filter");"string"==typeof i&&(i=[i]),o.$fileListHeader.find(".sort-indicator").addClass("hidden").removeClass("icon-triangle-n").removeClass("icon-triangle-s"),o.$fileListHeader.find("[data-sort="+o.filepicker.sortField+"] .sort-indicator").removeClass("hidden"),"asc"===o.filepicker.sortOrder?o.$fileListHeader.find("[data-sort="+o.filepicker.sortField+"] .sort-indicator").addClass("icon-triangle-n"):o.$fileListHeader.find("[data-sort="+o.filepicker.sortField+"] .sort-indicator").addClass("icon-triangle-s");var s=async function(e){return o.filepicker.filesClient.getFolderContents(e).then(((e,t)=>t))};try{var r=await s(e)}catch(e){X.error("Requested path does not exists, falling back to root"),r=await s("/"),this.$filePicker.data("path","/"),this._changeButtonsText(n,"")}o.filelist=r,i&&i.length>0&&-1===i.indexOf("*")&&(r=r.filter((function(e){return"dir"===e.type||-1!==i.indexOf(e.mimetype)}))),a&&(r=r.filter(a));const c=document.getElementById("showHiddenFiles");null===c||"1"===c.value||(r=r.filter((function(e){return!e.name.startsWith(".")})));var d={name:function(e,t){return"dir"===e.type&&"dir"!==t.type?-1:"dir"!==e.type&&"dir"===t.type?1:ze.Util.naturalSortCompare(e.name,t.name)},size:function(e,t){return e.size-t.size},mtime:function(e,t){return e.mtime-t.mtime}},u=d[o.filepicker.sortField]||d.name;r=r.sort((function(e,t){var n=function(e){return e.tags&&e.tags.indexOf(ze.TAG_FAVORITE)>=0};return n(e)&&!n(t)?-1:!n(e)&&n(t)?1:"asc"===o.filepicker.sortOrder?u(e,t):-u(e,t)})),o._fillSlug(),0===r.length?(o.$filePicker.find(".emptycontent").show(),o.$fileListHeader.hide()):(o.$filePicker.find(".emptycontent").hide(),o.$fileListHeader.show()),o.$filelist.empty(),l().each(r,(function(n,i){var a,s;if(i.isEncrypted&&"httpd/unix-directory"===i.mimetype?i.icon=ze.MimeType.getIconUrl("dir-encrypted"):i.icon=ze.MimeType.getIconUrl(i.mimetype),void 0!==i.size&&i.size>=0?(a=ze.Util.humanFileSize(parseInt(i.size,10),!0),s=Math.round(160-Math.pow(i.size/1048576,2))):(a=t("files","Pending"),s=80),i.name.length>=10)var r=Math.min(Math.floor(i.name.length/2),10),c=i.name.substr(0,i.name.length-r),d=i.name.substr(i.name.length-r);else c=i.name,d="";var u=o.$listTmpl.octemplate({type:i.type,dir:e,filename:i.name,filename1:c,filename2:d,date:ze.Util.relativeModifiedDate(i.mtime),size:a,sizeColor:s,icon:i.icon});if("file"===i.type){var p={file:e+"/"+i.name,x:100,y:100},f=new Image,h=ze.generateUrl("/core/preview.png?")+l().param(p);f.onload=function(){f.width>5&&u.find("td.filename").attr("style","background-image:url("+h+")")},f.src=h}o.$filelist.append(u)})),o.$filelistContainer.removeClass("icon-loading")},_fillSlug:function(){var e=this.$dirTree.find(".actions.creatable").detach();this.$dirTree.empty();var n=this;n.$dirTree.append(e);var o=this.$filePicker.data("path"),i=l()('<div data-dir="{dir}" tabindex="0"><a>{name}</a></div>').addClass("crumb");if(o){var a=o.split("/");l().each(a,(function(e,t){if(""===(t=a.pop()))return!1;n.$dirTree.prepend(i.octemplate({dir:a.join("/")+"/"+t,name:t}))}))}i.octemplate({dir:"",name:t("core","Home")},{escapeFunction:null}).prependTo(this.$dirTree)},_handleTreeListSelect:function(e,t){var n=e.data,o=l()(e.target).closest(".crumb").data("dir");n._fillFilePicker(o,t);var i=e.target.closest(".oc-dialog"),a=l()(".primary",i);this._changeButtonsText(t,o.split(/[/]+/).pop()),-1!==this.$filePicker.data("mimetype").indexOf("httpd/unix-directory")||this.$filePicker.data("allowDirectoryChooser")?a.prop("disabled",!1):a.prop("disabled",!0)},_handlePickerClick:function(e,t,n){var o=this.$filePicker.closest(".oc-dialog").find(".primary");"file"===t.data("type")?(!0===this.$filePicker.data("multiselect")&&e.ctrlKey||this.$filelist.find(".filepicker_element_selected").removeClass("filepicker_element_selected"),t.toggleClass("filepicker_element_selected"),o.prop("disabled",!1)):"dir"===t.data("type")&&(this._fillFilePicker(this.$filePicker.data("path")+"/"+t.data("entryname"),n),this._changeButtonsText(n,t.data("entryname")),-1!==this.$filePicker.data("mimetype").indexOf("httpd/unix-directory")||this.$filePicker.data("allowDirectoryChooser")?o.prop("disabled",!1):o.prop("disabled",!0))},_changeButtonsText:function(e,n){var o=""===n?t("core","Copy"):t("core","Copy to {folder}",{folder:n}),i=""===n?t("core","Move"):t("core","Move to {folder}",{folder:n}),a=l()(".oc-dialog-buttonrow button");switch(e){case this.FILEPICKER_TYPE_CHOOSE:case this.FILEPICKER_TYPE_CUSTOM:break;case this.FILEPICKER_TYPE_COPY:a.text(o);break;case this.FILEPICKER_TYPE_MOVE:a.text(i);break;case this.FILEPICKER_TYPE_COPY_MOVE:a.eq(0).text(o),a.eq(1).text(i)}}},te=ee,ne={_fileexistsshownConflictPreDlg:!1,fileexistsConflictPreDlg:function(e,n,o,i){var a=this,s=new(l().Deferred),r="oc-dialog-fileexists-content",c="#"+r,d=ze.conflictsData.length;if(!this._fileexistsshownConflictPreDlg){var u=ze.conflictsData[0][0].name,p=t("core","Do you want to replace it with files you're moving?"),f=1==d?t("core","The file {filename} already exist in the location.",{filename:u}):t("core","The files already exist in the location.");this._fileexistsshownConflictPreDlg=!0,l().when(this._getFileExistsTemplateConflictPreDlg()).then((function(n){var o=1==d?t("core","File conflict"):t("core","{conflictCount} File conflicts",{conflictCount:d}),u=n.octemplate({dialog_name:r,title:o,type:"fileexists",allnewfiles:t("core","New Files"),allexistingfiles:t("core","Already existing files"),why:p,what:f});l()("body").append(u);var h=[{text:t("core","Cancel"),classes:"cancel oc-conflict-pre-dlg-button",click:function(){void 0!==i.onCancel&&i.onCancel(e),l()(c).ocdialogconflictpredlg("close"),ze.conflictsData=null}},{text:1==d?t("core","Keep both files"):t("core","Keep both files for all"),classes:"cancel oc-conflict-pre-dlg-button",click:function(){void 0!==i.onContinueConflictPreDlg&&i.onContinueConflictPreDlg(!0,!0),l()(c).ocdialogconflictpredlg("close")}},{text:1==d?t("core","Replace file"):t("core","Replace all files"),classes:"cancel oc-conflict-pre-dlg-button oc-conflict-pre-dlg-replace-button",click:function(){void 0!==i.onContinue&&i.onContinueConflictPreDlg(!1,!0),l()(c).ocdialogconflictpredlg("close")}}];l()(c).ocdialogconflictpredlg({width:288,closeOnEscape:!0,modal:!0,buttons:h,closeButton:null,close:function(){a._fileexistsshownConflictPreDlg=!1;try{l()(this).ocdialogconflictpredlg("destroy").remove()}catch(e){}}}),l()(c).css("height","auto"),l()(".close-conflict-pre-dlg").on("click",(function(){l()(c).ocdialogconflictpredlg("close"),ze.conflictsData=null})),s.resolve()})).fail((function(){s.reject(),alert(t("core","Error loading file exists template"))}))}return s.promise()},_getFileExistsTemplateConflictPreDlg:function(){var e=l().Deferred();if(this.$fileexistsTemplateConflictPreDlg)e.resolve(this.$fileexistsTemplateConflictPreDlg);else{var t=this;l().get(ze.filePath("files","templates","fileexists-conflict-pre-dlg.html"),(function(n){t.$fileexistsTemplateConflictPreDlg=l()(n),e.resolve(t.$fileexistsTemplateConflictPreDlg)})).fail((function(){e.reject()}))}return e.promise()}},oe=((e,t)=>{let n=e.getElementsByTagName("head")[0].getAttribute("data-requesttoken");return{getToken:()=>n,setToken:e=>{n=e,t("csrf-token-update",{token:n})}}})(document,s.j8),ie=oe.getToken,ae=(oe.setToken,function(e,t){var n,o,i="";if(this.typelessListeners=[],this.closed=!1,this.listeners={},t)for(n in t)i+=n+"="+encodeURIComponent(t[n])+"&";if(i+="requesttoken="+encodeURIComponent(ie()),this.useFallBack||"undefined"==typeof EventSource){var a="oc_eventsource_iframe_"+ae.iframeCount;ae.fallBackSources[ae.iframeCount]=this,this.iframe=l()("<iframe></iframe>"),this.iframe.attr("id",a),this.iframe.hide(),o="&",-1===e.indexOf("?")&&(o="?"),this.iframe.attr("src",e+o+"fallback=true&fallback_id="+ae.iframeCount+"&"+i),l()("body").append(this.iframe),this.useFallBack=!0,ae.iframeCount++}else o="&",-1===e.indexOf("?")&&(o="?"),this.source=new EventSource(e+o+i),this.source.onmessage=function(e){for(var t=0;t<this.typelessListeners.length;t++)this.typelessListeners[t](JSON.parse(e.data))}.bind(this);this.listen("__internal__",function(e){"close"===e&&this.close()}.bind(this))});ae.fallBackSources=[],ae.iframeCount=0,ae.fallBackCallBack=function(e,t,n){ae.fallBackSources[e].fallBackCallBack(t,n)},ae.prototype={typelessListeners:[],iframe:null,listeners:{},useFallBack:!1,fallBackCallBack:function(e,t){var n;if(!this.closed)if(e){if(void 0!==this.listeners.done)for(n=0;n<this.listeners[e].length;n++)this.listeners[e][n](t)}else for(n=0;n<this.typelessListeners.length;n++)this.typelessListeners[n](t)},lastLength:0,listen:function(e,t){t&&t.call&&(e?this.useFallBack?(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)):this.source.addEventListener(e,(function(e){void 0!==e.data?t(JSON.parse(e.data)):t("")}),!1):this.typelessListeners.push(t))},close:function(){this.closed=!0,void 0!==this.source&&this.source.close()}};const se=ae;var re=i(42515),le=i(25108);let ce=null,de=null;const ue=function(e){if(ce){const t=ce;ce.trigger(new(l().Event)("beforeHide")),ce.slideUp(50,(function(){t.trigger(new(l().Event)("afterHide")),e&&e.apply(this,arguments)}))}l()(".menutoggle").attr("aria-expanded",!1),de&&de.attr("aria-expanded",!1),l()(".openedMenu").removeClass("openedMenu"),ce=null,de=null},pe=!!window._oc_isadmin;var fe=i(27856),he=i.n(fe),me=i(86834),ge=i.n(me),ve=i(46488),we=i.n(ve),ye=i(95573),be=i.n(ye);window._oc_l10n_registry_translations=window._oc_l10n_registry_translations||{},window._oc_l10n_registry_plural_functions=window._oc_l10n_registry_plural_functions||{};const _e=e=>void 0!==window._oc_l10n_registry_translations[e]&&void 0!==window._oc_l10n_registry_plural_functions[e],Ce=e=>({translations:window._oc_l10n_registry_translations[e]||{},pluralFunction:window._oc_l10n_registry_plural_functions[e]}),Pe={load(e,t){if(_e(e)||"en"===ze.getLocale()){const e=l().Deferred(),n=e.promise();return n.then(t),e.resolve(),n}const n=this,o=(0,c.generateFilePath)(e,"l10n",ze.getLocale()+".json");return l().get(o).then((function(t){t.translations&&n.register(e,t.translations,t.pluralForm)})).then(t)},register(e,t){var n,o,i;n=e,o=t,i=this._getPlural,_e(n)?((e,t,n)=>{window._oc_l10n_registry_translations[e]=Object.assign(window._oc_l10n_registry_translations[e],t),window._oc_l10n_registry_plural_functions[e]=n})(n,o,i):((e,t,n)=>{window._oc_l10n_registry_translations[e]=t,window._oc_l10n_registry_plural_functions[e]=n})(n,o,i)},_unregister:e=>{delete window._oc_l10n_registry_translations[e],delete window._oc_l10n_registry_plural_functions[e]},translate(e,t,n,o,i){const a=i||{};f.ZP.defaults(a,{escape:!0,sanitize:!0});const s=a.sanitize?he().sanitize:we(),r=a.escape?be():we();let l=t;const c=Ce(e).translations[t];return void 0!==c&&(l=c),s("object"==typeof n||void 0!==o?function(e,t,n){return e.replace(/%n/g,n).replace(/{([^{}]*)}/g,(function(e,n){const o=t[n];return s("string"==typeof o||"number"==typeof o?r(o):e)}))}(l,n,o):l)},translatePlural(e,t,n,o,i,a){const s="_"+t+"_::_"+n+"_",r=Ce(e),c=r.translations[s];if(void 0!==c){const t=c;if(l().isArray(t)){const n=r.pluralFunction(o);return this.translate(e,t[n],i,o,a)}}return 1===o?this.translate(e,t,i,o,a):this.translate(e,n,i,o,a)},_getPlural(e){let t=ze.getLanguage();if("pt-BR"===t&&(t="xbr"),void 0===t||""===t)return 1===e?0:1;switch(t.length>3&&(t=t.substring(0,t.lastIndexOf("-"))),t){case"az":case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":default:return 0;case"af":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"oc":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1===e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"hy":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1===e?0:1;case"be":case"bs":case"hr":case"ru":case"sh":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1===e?0:e>=2&&e<=4?1:2;case"ga":return 1===e?0:2===e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1===e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1===e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1===e?0:2===e?1:8===e||11===e?2:3;case"ro":return 1===e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5}}},Ae=Pe;ge().registerHelper("t",(function(e,t){return Pe.translate(e,t)}));var ke=i(9944);const xe={startSaving(e){this.startAction(e,t("core","Saving …"))},startAction(e,t){l()(e).text(t).removeClass("success").removeClass("error").stop(!0,!0).show()},finishedSaving(e,t){this.finishedAction(e,t)},finishedAction(e,t){"success"===t.status?this.finishedSuccess(e,t.data.message):this.finishedError(e,t.data.message)},finishedSuccess(e,t){l()(e).text(t).addClass("success").removeClass("error").stop(!0,!0).delay(3e3).fadeOut(900).show()},finishedError(e,t){l()(e).text(t).addClass("error").removeClass("success").show()}};var Te=i(30381),Oe=i.n(Te);const Ee={callback:null,pageLoadTime:null,init(){l()(".password-confirm-required").on("click",f.ZP.bind(this.requirePasswordConfirmation,this)),this.pageLoadTime=Oe().now()},requiresPasswordConfirmation(){const e=this.pageLoadTime-1e3*window.nc_pageLoad,t=Oe().now()-(e+1e3*window.nc_lastLogin);return window.backendAllowsPasswordConfirmation&&t>18e5},requirePasswordConfirmation(e,n,o){n=void 0!==n?n:{};const i={title:t("core","Authentication required"),text:t("core","This action requires you to confirm your password"),confirm:t("core","Confirm"),label:t("core","Password"),error:""},a=f.ZP.extend(i,n),s=this;this.requiresPasswordConfirmation()&&ze.dialogs.prompt(a.text,a.title,(function(e,t){e&&""!==t?s._confirmPassword(t,a):f.ZP.isFunction(o)&&o()}),!0,a.label,!0).then((function(){const e=l()(".oc-dialog:visible");if(e.find(".ui-icon").remove(),e.addClass("password-confirmation"),""!==a.error){const t=l()("<p></p>").addClass("msg warning").text(a.error);e.find(".oc-dialog-content").append(t)}e.find(".oc-dialog-buttonrow").addClass("aside");const t=e.find("button");t.eq(0).hide(),t.eq(1).text(a.confirm)})),this.callback=e},_confirmPassword(e,n){const o=this;l().ajax({url:(0,c.generateUrl)("/login/confirm"),data:{password:e},type:"POST",success(e){window.nc_lastLogin=e.lastLogin,f.ZP.isFunction(o.callback)&&o.callback()},error(){n.error=t("core","Failed to authenticate, try again"),ze.PasswordConfirmation.requirePasswordConfirmation(o.callback,n)}})}},je={_plugins:{},register(e,t){let n=this._plugins[e];n||(n=this._plugins[e]=[]),n.push(t)},getPlugins(e){return this._plugins[e]||[]},attach(e,t,n){const o=this.getPlugins(e);for(let e=0;e<o.length;e++)o[e].attach&&o[e].attach(t,n)},detach(e,t,n){const o=this.getPlugins(e);for(let e=0;e<o.length;e++)o[e].detach&&o[e].detach(t,n)}},Se=window._theme||{},Le={_handlers:[],_pushState(e,t,n){let o;if(o="string"==typeof e?e:ze.buildQueryString(e),window.history.pushState){if(t=t||location.pathname+"?"+o,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&parseInt(navigator.userAgent.split("/").pop())<51){const e=document.querySelectorAll('[fill^="url(#"], [stroke^="url(#"], [filter^="url(#invert"]');for(let t,n=0,o=e.length;n<o;n++)t=e[n],t.style.fill=t.style.fill,t.style.stroke=t.style.stroke,t.removeAttribute("filter"),t.setAttribute("filter","url(#invert)")}n?window.history.replaceState(e,"",t):window.history.pushState(e,"",t)}else window.location.hash="?"+o,this._cancelPop=!0},pushState(e,t){this._pushState(e,t,!1)},replaceState(e,t){this._pushState(e,t,!0)},addOnPopStateHandler(e){this._handlers.push(e)},_parseHashQuery(){const e=window.location.hash,t=e.indexOf("?");return t>=0?e.substr(t+1):e.length?e.substr(1):""},_decodeQuery:e=>e.replace(/\+/g," "),parseUrlQuery(){const e=this._parseHashQuery();let t;return e&&(t=ze.parseQueryString(this._decodeQuery(e))),t=f.ZP.extend(t||{},ze.parseQueryString(this._decodeQuery(location.search))),t||{}},_onPopState(e){if(this._cancelPop)return void(this._cancelPop=!1);let t;if(this._handlers.length){t=e&&e.state,f.ZP.isString(t)?t=ze.parseQueryString(t):t||(t=this.parseUrlQuery()||{});for(let e=0;e<this._handlers.length;e++)this._handlers[e](t)}}};var Ne=i(3378),Ie=i(25108);function Fe(e){const t=[];let n,o=0,i=-1,a=0;for(;o<e.length;){n=e.charAt(o);const s=!a&&"."===n||n>="0"&&n<="9";s!==a&&(i++,t[i]="",a=s),t[i]+=n,o++}return t}const $e={History:Le,humanFileSize:Ne.s,computerFileSize(e){if("string"!=typeof e)return null;const t=e.toLowerCase().trim();let n=null;const o=t.match(/^[\s+]?([0-9]*)(\.([0-9]+))?( +)?([kmgtp]?b?)$/i);return null===o?null:(n=parseFloat(t),isFinite(n)?(o[5]&&(n*={b:1,k:1024,kb:1024,mb:1048576,m:1048576,gb:1073741824,g:1073741824,tb:1099511627776,t:1099511627776,pb:0x4000000000000,p:0x4000000000000}[o[5]]),n=Math.round(n),n):null)},formatDate:(e,t)=>(void 0===window.TESTING&&Ie.warn("OC.Util.formatDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment"),t=t||"LLL",Oe()(e).format(t)),relativeModifiedDate(e){void 0===window.TESTING&&Ie.warn("OC.Util.relativeModifiedDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment");const n=Oe()().diff(Oe()(e));return n>=0&&n<45e3?t("core","seconds ago"):Oe()(e).fromNow()},getScrollBarWidth(){if(this._scrollBarWidth)return this._scrollBarWidth;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),document.body.removeChild(t),this._scrollBarWidth=n-o,this._scrollBarWidth},stripTime:e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),naturalSortCompare(e,t){let n;const o=Fe(e),i=Fe(t);for(n=0;o[n]&&i[n];n++)if(o[n]!==i[n]){const e=Number(o[n]),t=Number(i[n]);return e==o[n]&&t==i[n]?e-t:o[n].localeCompare(i[n],ze.getLanguage())}return o.length-i.length},waitFor(e,t){const n=function(){!0!==e()&&setTimeout(n,t)};n()},isCookieSetToValue(e,t){const n=document.cookie.split(";");for(let o=0;o<n.length;o++){const i=n[o].split("=");if(i[0].trim()===e&&i[1].trim()===t)return!0}return!1}},Ue=window._oc_debug;let Re=window._oc_webroot;if(void 0===Re){Re=location.pathname;const e=Re.indexOf("/index.php/");Re=-1!==e?Re.substr(0,e):Re.substr(0,Re.lastIndexOf("/"))}const Me=Re;var De=i(25108);const ze={coreApps:["","admin","log","core/search","core","3rdparty"],menuSpeed:50,PERMISSION_ALL:31,PERMISSION_CREATE:4,PERMISSION_DELETE:8,PERMISSION_NONE:0,PERMISSION_READ:1,PERMISSION_SHARE:16,PERMISSION_UPDATE:2,TAG_FAVORITE:"_$!<Favorite>!$_",fileIsBlacklisted:e=>!!e.match(R.blacklist_files_regex),addScript:(e,t,n)=>{let o;d.warn("OC.addScript is deprecated, use OCP.Loader.loadScript instead");const i=(0,c.generateFilePath)(e,"js",t+".js");return u[i]?n&&n():(o=l().Deferred(),l().getScript(i,(()=>o.resolve())),u[i]=o),u[i]},addStyle:(e,t)=>{d.warn("OC.addStyle is deprecated, use OCP.Loader.loadStylesheet instead");const n=(0,c.generateFilePath)(e,"css",t+".css");-1===p.indexOf(n)&&(p.push(n),document.createStyleSheet?document.createStyleSheet(n):(t=l()('<link rel="stylesheet" type="text/css" href="'+n+'"/>'),l()("head").append(t)))},Apps:y,AppConfig:P,appConfig:C,appSettings:e=>{if(A.warn("OC.appSettings is deprecated and will be removed with Nextcloud 18"),void 0===e||void 0===e.appid)throw{name:"MissingParameter",message:"The parameter appid is missing"};var n={scriptName:"settings.php",cache:!0};l().extend(n,e);var o=l()("#appsettings");if(0===o.length)throw{name:"MissingDOMElement",message:'There has be be an element with id "appsettings" for the popup to show.'};var i=l()("#appsettings_popup");if(0===i.length&&(l()("body").prepend('<div class="popup hidden" id="appsettings_popup"></div>'),(i=l()("#appsettings_popup")).addClass(o.hasClass("topright")?"topright":"bottomleft")),i.is(":visible"))i.hide().remove();else{const e=o.hasClass("topright")?"up":"left";l().get((0,c.generateFilePath)(n.appid,"",n.scriptName),(function(o){i.html(o).ready((function(){if(i.prepend('<span class="arrow '+e+'"></span><h2>'+t("core","Settings")+'</h2><a class="close"></a>').show(),i.find(".close").bind("click",(function(){i.remove()})),void 0!==n.loadJS){var o;if(!0===n.loadJS)o="settings.js";else{if("string"!=typeof n.loadJS)throw{name:"InvalidParameter",message:'The "loadJS" parameter must be either boolean or a string.'};o=n.loadJS}n.cache&&l().ajaxSetup({cache:!0}),l().getScript((0,c.generateFilePath)(n.appid,"js",o)).fail((function(e,t,n){throw n}))}})).show()}),"html")}},appswebroots:k,Backbone:$,ContactsMenu:Y,config:R,currentUser:G,dialogs:te,dialogscustomconflict:ne,EventSource:se,getCurrentUser:()=>({uid:G,displayName:V}),isUserAdmin:()=>pe,L10N:Ae,_ajaxConnectionLostHandler:v,_processAjaxError:e=>{(0!==e.status||"abort"!==e.statusText&&"timeout"!==e.statusText&&!ze._reloadCalled)&&(f.ZP.contains([302,303,307,401],e.status)&&ze.currentUser?setTimeout((function(){if(!ze._userIsNavigatingAway&&!ze._reloadCalled){let e=0;const t=5,o=setInterval((function(){g.showUpdate(n("core","Problem loading page, reloading in %n second","Problem loading page, reloading in %n seconds",t-e)),e>=t&&(clearInterval(o),ze.reload()),e++}),1e3);ze._reloadCalled=!0}}),100):0===e.status&&setTimeout((function(){ze._userIsNavigatingAway||ze._reloadCalled||ze._ajaxConnectionLostHandler()}),100))},registerXHRForErrorProcessing:e=>{e.addEventListener&&(e.addEventListener("load",(()=>{4===e.readyState&&(e.status>=200&&e.status<300||304===e.status||l()(document).trigger(new(l().Event)("ajaxError"),e))})),e.addEventListener("error",(()=>{l()(document).trigger(new(l().Event)("ajaxError"),e)})))},getCapabilities:()=>(le.warn("OC.getCapabilities is deprecated and will be removed in Nextcloud 21. See @nextcloud/capabilities"),(0,re.getCapabilities)()),hideMenus:ue,registerMenu:function(e,t,n,o){t.addClass("menu");const i="A"===e.prop("tagName")||"BUTTON"===e.prop("tagName");e.on(i?"click.menu":"click.menu keyup.menu",(function(i){i.preventDefault(),i.key&&"Enter"!==i.key||(t.is(ce)?ue():(ce&&ue(),!0===o&&t.parent().addClass("openedMenu"),e.attr("aria-expanded",!0),t.slideToggle(50,n),ce=t,de=e))}))},showMenu:(e,t,n)=>{t.is(ce)||(ue(),ce=t,de=e,t.trigger(new(l().Event)("beforeShow")),t.show(),t.trigger(new(l().Event)("afterShow")),f.ZP.isFunction(n)&&n())},unregisterMenu:(e,t)=>{t.is(ce)&&ue(),e.off("click.menu").removeClass("menutoggle"),t.removeClass("menu")},basename:U.EZ,encodePath:U.Ec,dirname:U.XX,isSamePath:U.Mg,joinPaths:U.RQ,getHost:()=>window.location.host,getHostName:()=>window.location.hostname,getPort:()=>window.location.port,getProtocol:()=>window.location.protocol.split(":")[0],getCanonicalLocale:ke.getCanonicalLocale,getLocale:()=>{var e;return null!==(e=l()("html").data("locale"))&&void 0!==e?e:"en"},getLanguage:()=>l()("html").prop("lang"),addTranslations:Ae.load,buildQueryString:e=>e?l().map(e,(function(e,t){let n=encodeURIComponent(t);return null!=e&&(n+="="+encodeURIComponent(e)),n})).join("&"):"",parseQueryString:e=>{let t,n;const o={};let i;if(!e)return null;t=e.indexOf("?"),t>=0&&(e=e.substr(t+1));const a=e.replace(/\+/g,"%20").split("&");for(let e=0;e<a.length;e++){const s=a[e];t=s.indexOf("="),n=t>=0?[s.substr(0,t),s.substr(t+1)]:[s],n.length&&(i=decodeURIComponent(n[0]),i&&(o[i]=n.length>1?decodeURIComponent(n[1]):null))}return o},msg:xe,Notification:g,PasswordConfirmation:Ee,Plugins:je,theme:Se,Util:$e,debug:Ue,filePath:c.generateFilePath,generateUrl:c.generateUrl,get:(Be=window,e=>{const t=e.split("."),n=t.pop();for(let e=0;e<t.length;e++)if(!(Be=Be[t[e]]))return!1;return Be[n]}),set:(e=>(t,n)=>{const o=t.split("."),i=o.pop();for(let t=0;t<o.length;t++)e[o[t]]||(e[o[t]]={}),e=e[o[t]];return e[i]=n,n})(window),getRootPath:c.getRootUrl,imagePath:c.imagePath,redirect:e=>{window.location=e},reload:()=>{window.location.reload()},requestToken:ie(),linkTo:c.linkTo,linkToOCS:(e,t)=>(0,c.generateOcsUrl)(e,{},{ocsVersion:t||1})+"/",linkToRemote:c.generateRemoteUrl,linkToRemoteBase:e=>(0,c.getRootUrl)()+"/remote.php/"+e,webroot:Me};var Be;(0,s.Ld)("csrf-token-update",(e=>{OC.requestToken=e.token,De.info("OC.requestToken changed",e.token)}));var Ze=i(16453),qe=i(17563),He=i(55586),Ye=i.n(He),Ke=i(22660),Ve=i.n(Ke),Ge=i(10204),Je=i.n(Ge),We=i(57290),Qe=i.n(We),Xe=i(10861),et=i.n(Xe);const tt={name:"LoginButton",components:{ArrowRight:i(41085).default,NcButton:et()},props:{value:{type:String,default:t("core","Log in")},valueLoading:{type:String,default:t("core","Logging in …")},loading:{type:Boolean,required:!0},invertedColors:{type:Boolean,default:!1}}};var nt=i(93379),ot=i.n(nt),it=i(7795),at=i.n(it),st=i(90569),rt=i.n(st),lt=i(3565),ct=i.n(lt),dt=i(19216),ut=i.n(dt),pt=i(44589),ft=i.n(pt),ht=i(49665),mt={};mt.styleTagTransform=ft(),mt.setAttributes=ct(),mt.insert=rt().bind(null,"head"),mt.domAPI=at(),mt.insertStyleElement=ut(),ot()(ht.Z,mt),ht.Z&&ht.Z.locals&&ht.Z.locals;var gt=i(51900);const vt=(0,gt.Z)(tt,(function(){var e=this,t=e._self._c;return t("NcButton",{attrs:{type:"primary","native-type":"submit",wide:!0},on:{click:function(t){return e.$emit("click")}},scopedSlots:e._u([{key:"icon",fn:function(){return[e.loading?t("div",{staticClass:"submit-wrapper__icon icon-loading-small-dark"}):t("ArrowRight",{staticClass:"submit-wrapper__icon"})]},proxy:!0}])},[e._v("\n\t"+e._s(e.loading?e.valueLoading:e.value)+"\n\t")])}),[],!1,null,"756414a8",null).exports,wt={name:"LoginForm",components:{LoginButton:vt,NcPasswordField:Ve(),NcTextField:Je(),NcNoteCard:Qe()},props:{username:{type:String,default:""},redirectUrl:{type:[String,Boolean],default:!1},errors:{type:Array,default:()=>[]},messages:{type:Array,default:()=>[]},throttleDelay:{type:Number,default:0},autoCompleteAllowed:{type:Boolean,default:!0},directLogin:{type:Boolean,default:!1}},data:()=>({loading:!1,timezone:Ye().determine().name(),timezoneOffset:-(new Date).getTimezoneOffset()/60,headline:t("core","Log in to {productName}",{productName:OC.theme.name}),user:"",password:""}),computed:{isError(){return this.invalidPassword||this.userDisabled||this.throttleDelay&&this.throttleDelay>5e3},errorLabel(){return this.invalidPassword?t("core","Wrong username or password."):this.userDisabled?t("core","User disabled"):this.throttleDelay&&this.throttleDelay>5e3?t("core","We have detected multiple invalid login attempts from your IP. Therefore your next login is throttled up to 30 seconds."):void 0},apacheAuthFailed(){return-1!==this.errors.indexOf("apacheAuthFailed")},internalException(){return-1!==this.errors.indexOf("internalexception")},invalidPassword(){return-1!==this.errors.indexOf("invalidpassword")},userDisabled(){return-1!==this.errors.indexOf("userdisabled")},loadingIcon:()=>(0,c.imagePath)("core","loading-dark.gif"),loginActionUrl:()=>(0,c.generateUrl)("login")},mounted(){""===this.username?this.$refs.user.$refs.inputField.$refs.input.focus():(this.user=this.username,this.$refs.password.$refs.inputField.$refs.input.focus())},methods:{updateUsername(){this.$emit("update:username",this.user)},submit(){this.loading=!0,this.$emit("submit")}}};var yt=i(63705),bt={};bt.styleTagTransform=ft(),bt.setAttributes=ct(),bt.insert=rt().bind(null,"head"),bt.domAPI=at(),bt.insertStyleElement=ut(),ot()(yt.Z,bt),yt.Z&&yt.Z.locals&&yt.Z.locals;const _t=(0,gt.Z)(wt,(function(){var e=this,t=e._self._c;return t("form",{ref:"loginForm",staticClass:"login-form",attrs:{method:"post",name:"login",action:e.loginActionUrl},on:{submit:e.submit}},[t("fieldset",{staticClass:"login-form__fieldset"},[e.apacheAuthFailed?t("NcNoteCard",{attrs:{title:e.t("core","Server side authentication failed!"),type:"warning"}},[e._v("\n\t\t\t"+e._s(e.t("core","Please contact your administrator."))+"\n\t\t")]):e._e(),e._v(" "),e.messages.length>0?t("NcNoteCard",e._l(e.messages,(function(n,o){return t("div",{key:o},[e._v("\n\t\t\t\t"+e._s(n)),t("br")])})),0):e._e(),e._v(" "),e.internalException?t("NcNoteCard",{class:e.t("core","An internal error occurred."),attrs:{type:"warning"}},[e._v("\n\t\t\t"+e._s(e.t("core","Please try again or contact your administrator."))+"\n\t\t")]):e._e(),e._v(" "),t("div",{staticClass:"hidden",attrs:{id:"message"}},[t("img",{staticClass:"float-spinner",attrs:{alt:"",src:e.loadingIcon}}),e._v(" "),t("span",{attrs:{id:"messageText"}}),e._v(" "),t("div",{staticStyle:{clear:"both"}})]),e._v(" "),t("h2",{staticClass:"login-form__headline",domProps:{innerHTML:e._s(e.headline)}}),e._v(" "),t("NcTextField",{ref:"user",class:{shake:e.invalidPassword},attrs:{id:"user",label:e.t("core","Account name or email"),"label-visible":!0,name:"user",value:e.user,autocapitalize:"none",spellchecking:!1,autocomplete:e.autoCompleteAllowed?"username":"off",required:""},on:{"update:value":function(t){e.user=t},change:e.updateUsername}}),e._v(" "),t("NcPasswordField",{ref:"password",class:{shake:e.invalidPassword},attrs:{id:"password",name:"password","label-visible":!0,value:e.password,spellchecking:!1,autocapitalize:"none",autocomplete:e.autoCompleteAllowed?"current-password":"off",label:e.t("core","Password"),"helper-text":e.errorLabel,error:e.isError,required:""},on:{"update:value":function(t){e.password=t}}}),e._v(" "),t("LoginButton",{attrs:{loading:e.loading}}),e._v(" "),e.redirectUrl?t("input",{attrs:{type:"hidden",name:"redirect_url"},domProps:{value:e.redirectUrl}}):e._e(),e._v(" "),t("input",{attrs:{type:"hidden",name:"timezone"},domProps:{value:e.timezone}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"timezone_offset"},domProps:{value:e.timezoneOffset}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"requesttoken"},domProps:{value:e.OC.requestToken}}),e._v(" "),e.directLogin?t("input",{attrs:{type:"hidden",name:"direct",value:"1"}}):e._e()],1)])}),[],!1,null,"6e9b41c5",null).exports;var Ct=i(4820),Pt=i(48237),At=i(45052),kt=i(25108);class xt extends Error{}const Tt={name:"PasswordLessLoginForm",components:{LoginButton:vt,InformationIcon:Pt.Z,LockOpenIcon:At.Z},props:{username:{type:String,default:""},redirectUrl:{type:[String,Boolean],default:!1},autoCompleteAllowed:{type:Boolean,default:!0},isHttps:{type:Boolean,default:!1},isLocalhost:{type:Boolean,default:!1},hasPublicKeyCredential:{type:Boolean,default:!1}},data(){return{user:this.username,loading:!1,validCredentials:!0}},methods:{authenticate(){kt.debug("passwordless login initiated"),this.getAuthenticationData(this.user).then((e=>(kt.debug(e),e))).then(this.sign).then(this.completeAuthentication).catch((e=>{e instanceof xt?this.validCredentials=!1:kt.debug(e)}))},getAuthenticationData(e){const t=function(e){const t=(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(t){if(1===t)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");e+=new Array(5-t).join("=")}return window.atob(e)};return function(e){const t=(0,c.generateUrl)("/login/webauthn/start");return Ct.default.post(t,{loginName:e}).then((e=>e.data))}(e).then((e=>{if(kt.debug("Obtained PublicKeyCredentialRequestOptions"),kt.debug(e),!Object.prototype.hasOwnProperty.call(e,"allowCredentials"))throw kt.debug("No credentials found."),new xt;return e.challenge=Uint8Array.from(t(e.challenge),(e=>e.charCodeAt(0))),e.allowCredentials=e.allowCredentials.map((function(e){return{...e,id:Uint8Array.from(t(e.id),(e=>e.charCodeAt(0)))}})),kt.debug("Converted PublicKeyCredentialRequestOptions"),kt.debug(e),e})).catch((e=>{throw kt.debug("Error while obtaining data"),e}))},sign(e){const t=function(e){return window.btoa(String.fromCharCode(...e))};return navigator.credentials.get({publicKey:e}).then((e=>{return kt.debug(e),kt.debug(new Uint8Array(e.rawId)),kt.debug(t(new Uint8Array(e.rawId))),{id:e.id,type:e.type,rawId:t(new Uint8Array(e.rawId)),response:{authenticatorData:t(new Uint8Array(e.response.authenticatorData)),clientDataJSON:t(new Uint8Array(e.response.clientDataJSON)),signature:t(new Uint8Array(e.response.signature)),userHandle:e.response.userHandle?(n=new Uint8Array(e.response.userHandle),String.fromCharCode(...n)):null}};var n})).then((e=>(kt.debug(e),e))).catch((e=>{kt.debug("GOT AN ERROR!"),kt.debug(e)}))},completeAuthentication(e){kt.debug("TIME TO COMPLETE");const t=this.redirectUrl;return function(e){const t=(0,c.generateUrl)("/login/webauthn/finish");return Ct.default.post(t,{data:e}).then((e=>e.data))}(JSON.stringify(e)).then((e=>{kt.debug("Logged in redirecting"),window.location.href=t})).catch((e=>{kt.debug("GOT AN ERROR WHILE SUBMITTING CHALLENGE!"),kt.debug(e)}))},submit(){}}};var Ot=i(36822),Et={};Et.styleTagTransform=ft(),Et.setAttributes=ct(),Et.insert=rt().bind(null,"head"),Et.domAPI=at(),Et.insertStyleElement=ut(),ot()(Ot.Z,Et),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;const jt=(0,gt.Z)(Tt,(function(){var e=this,t=e._self._c;return(e.isHttps||e.isLocalhost)&&e.hasPublicKeyCredential?t("form",{ref:"loginForm",attrs:{method:"post",name:"login"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("fieldset",[t("p",{staticClass:"grouptop groupbottom"},[t("label",{staticClass:"infield",attrs:{for:"user"}},[e._v(e._s(e.t("core","Username or\temail")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],ref:"user",attrs:{id:"user",type:"text",name:"user",autocomplete:e.autoCompleteAllowed?"on":"off",placeholder:e.t("core","Username or email"),"aria-label":e.t("core","Username or email"),required:""},domProps:{value:e.user},on:{change:function(t){return e.$emit("update:username",e.user)},input:function(t){t.target.composing||(e.user=t.target.value)}}})]),e._v(" "),e.validCredentials?e._e():t("div",{staticClass:"body-login-container update form__message-box"},[e._v("\n\t\t\t"+e._s(e.t("core","Your account is not setup for passwordless login."))+"\n\t\t")]),e._v(" "),e.validCredentials?t("LoginButton",{attrs:{loading:e.loading},on:{click:e.authenticate}}):e._e()],1)]):e.hasPublicKeyCredential?e.isHttps||e.isLocalhost?e._e():t("div",{staticClass:"body-login-container update"},[t("LockOpenIcon",{attrs:{size:"70"}}),e._v(" "),t("h2",[e._v(e._s(e.t("core","Your connection is not secure")))]),e._v(" "),t("p",{staticClass:"infogroup"},[e._v("\n\t\t"+e._s(e.t("core","Passwordless authentication is only available over a secure connection."))+"\n\t")])],1):t("div",{staticClass:"body-login-container update"},[t("InformationIcon",{attrs:{size:"70"}}),e._v(" "),t("h2",[e._v(e._s(e.t("core","Browser not supported")))]),e._v(" "),t("p",{staticClass:"infogroup"},[e._v("\n\t\t"+e._s(e.t("core","Passwordless authentication is not supported in your browser."))+"\n\t")])],1)}),[],!1,null,"adf4afc4",null).exports;var St=i(25108);const Lt={name:"ResetPassword",components:{LoginButton:vt,NcNoteCard:Qe(),NcTextField:Je()},props:{username:{type:String,required:!0},resetPasswordLink:{type:String,required:!0}},data(){return{error:!1,loading:!1,message:void 0,user:this.username}},watch:{username(e){this.user=e}},methods:{updateUsername(){this.$emit("update:username",this.user)},submit(){this.loading=!0,this.error=!1,this.message="";const e=(0,c.generateUrl)("/lostpassword/email"),t={user:this.user};return Ct.default.post(e,t).then((e=>e.data)).then((e=>{if("success"!==e.status)throw new Error("got status ".concat(e.status));this.message="send-success"})).catch((e=>{St.error("could not send reset email request",e),this.error=!0,this.message="send-error"})).then((()=>{this.loading=!1}))}}};var Nt=i(28032),It={};It.styleTagTransform=ft(),It.setAttributes=ct(),It.insert=rt().bind(null,"head"),It.domAPI=at(),It.insertStyleElement=ut(),ot()(Nt.Z,It),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;const Ft=(0,gt.Z)(Lt,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("fieldset",{staticClass:"login-form__fieldset"},[t("NcTextField",{attrs:{id:"user",value:e.user,name:"user",autocapitalize:"off",label:e.t("core","Account name or email"),"label-visible":!0,required:""},on:{"update:value":function(t){e.user=t},change:e.updateUsername}}),e._v(" "),t("LoginButton",{attrs:{value:e.t("core","Reset password")}}),e._v(" "),"send-success"===e.message?t("NcNoteCard",{attrs:{type:"success"}},[e._v("\n\t\t\t"+e._s(e.t("core","A password reset message has been sent to the email address of this account. If you do not receive it, check your spam/junk folders or ask your local administrator for help."))+"\n\t\t\t"),t("br"),e._v("\n\t\t\t"+e._s(e.t("core","If it is not there ask your local administrator."))+"\n\t\t")]):"send-error"===e.message?t("NcNoteCard",{attrs:{type:"error"}},[e._v("\n\t\t\t"+e._s(e.t("core","Couldn't send reset email. Please contact your administrator."))+"\n\t\t")]):"reset-error"===e.message?t("NcNoteCard",{attrs:{type:"error"}},[e._v("\n\t\t\t"+e._s(e.t("core","Password cannot be changed. Please contact your administrator."))+"\n\t\t")]):e._e(),e._v(" "),t("a",{staticClass:"login-form__link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("abort")}}},[e._v("\n\t\t\t"+e._s(e.t("core","Back to login"))+"\n\t\t")])],1)])}),[],!1,null,"27cabc60",null).exports,$t={name:"UpdatePassword",components:{LoginButton:vt},props:{username:{type:String,required:!0},resetPasswordTarget:{type:String,required:!0}},data(){return{error:!1,loading:!1,message:void 0,user:this.username,password:"",encrypted:!1,proceed:!1}},watch:{username(e){this.user=e}},methods:{async submit(){this.loading=!0,this.error=!1,this.message="";try{const{data:e}=await Ct.default.post(this.resetPasswordTarget,{password:this.password,proceed:this.proceed});if(e&&"success"===e.status)this.message="send-success",this.$emit("update:username",this.user),this.$emit("done");else{if(!e||!e.encryption)throw e&&e.msg?new Error(e.msg):new Error;this.encrypted=!0}}catch(e){this.error=!0,this.message=e.message?e.message:t("core","Password cannot be changed. Please contact your administrator.")}finally{this.loading=!1}}}};var Ut=i(74778),Rt={};Rt.styleTagTransform=ft(),Rt.setAttributes=ct(),Rt.insert=rt().bind(null,"head"),Rt.domAPI=at(),Rt.insertStyleElement=ut(),ot()(Ut.Z,Rt),Ut.Z&&Ut.Z.locals&&Ut.Z.locals;const Mt=(0,gt.Z)($t,(function(){var e=this,t=e._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("fieldset",[t("p",[t("label",{staticClass:"infield",attrs:{for:"password"}},[e._v(e._s(e.t("core","New password")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",name:"password",autocomplete:"new-password",autocapitalize:"none",autocorrect:"off",required:"",placeholder:e.t("core","New password")},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e.encrypted?t("div",{staticClass:"update"},[t("p",[e._v("\n\t\t\t\t"+e._s(e.t("core","Your files are encrypted. There will be no way to get your data back after your password is reset. If you are not sure what to do, please contact your administrator before you continue. Do you really want to continue?"))+"\n\t\t\t")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proceed,expression:"proceed"}],staticClass:"checkbox",attrs:{id:"encrypted-continue",type:"checkbox"},domProps:{checked:Array.isArray(e.proceed)?e._i(e.proceed,null)>-1:e.proceed},on:{change:function(t){var n=e.proceed,o=t.target,i=!!o.checked;if(Array.isArray(n)){var a=e._i(n,null);o.checked?a<0&&(e.proceed=n.concat([null])):a>-1&&(e.proceed=n.slice(0,a).concat(n.slice(a+1)))}else e.proceed=i}}}),e._v(" "),t("label",{attrs:{for:"encrypted-continue"}},[e._v("\n\t\t\t\t"+e._s(e.t("core","I know what I'm doing"))+"\n\t\t\t")])]):e._e(),e._v(" "),t("LoginButton",{attrs:{loading:e.loading,value:e.t("core","Reset password"),"value-loading":e.t("core","Resetting password")}}),e._v(" "),e.error&&e.message?t("p",{class:{warning:e.error}},[e._v("\n\t\t\t"+e._s(e.message)+"\n\t\t")]):e._e()],1)])}),[],!1,null,"4dc21d74",null).exports;var Dt=i(25108);const zt=qe.parse(location.search);if("1"===zt.clear)try{window.localStorage.clear(),window.sessionStorage.clear(),Dt.debug("Browser storage cleared")}catch(e){Dt.error("Could not clear browser storage",e)}const Bt={name:"Login",components:{LoginForm:_t,PasswordLessLoginForm:jt,ResetPassword:Ft,UpdatePassword:Mt,NcButton:et(),NcNoteCard:Qe()},data:()=>({loading:!1,user:(0,Ze.loadState)("core","loginUsername",""),passwordlessLogin:!1,resetPassword:!1,errors:(0,Ze.loadState)("core","loginErrors",[]),messages:(0,Ze.loadState)("core","loginMessages",[]),redirectUrl:(0,Ze.loadState)("core","loginRedirectUrl",!1),throttleDelay:(0,Ze.loadState)("core","loginThrottleDelay",0),canResetPassword:(0,Ze.loadState)("core","loginCanResetPassword",!1),resetPasswordLink:(0,Ze.loadState)("core","loginResetPasswordLink",""),autoCompleteAllowed:(0,Ze.loadState)("core","loginAutocomplete",!0),resetPasswordTarget:(0,Ze.loadState)("core","resetPasswordTarget",""),resetPasswordUser:(0,Ze.loadState)("core","resetPasswordUser",""),directLogin:"1"===zt.direct,hasPasswordless:(0,Ze.loadState)("core","webauthn-available",!1),countAlternativeLogins:(0,Ze.loadState)("core","countAlternativeLogins",!1),alternativeLogins:(0,Ze.loadState)("core","alternativeLogins",[]),isHttps:"https:"===window.location.protocol,isLocalhost:"localhost"===window.location.hostname,hasPublicKeyCredential:void 0!==window.PublicKeyCredential,hideLoginForm:(0,Ze.loadState)("core","hideLoginForm",!1)}),methods:{passwordResetFinished(){this.resetPasswordTarget="",this.directLogin=!0}}};var Zt=i(20549),qt={};qt.styleTagTransform=ft(),qt.setAttributes=ct(),qt.insert=rt().bind(null,"head"),qt.domAPI=at(),qt.insertStyleElement=ut(),ot()(Zt.Z,qt),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;const Ht=(0,gt.Z)(Bt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"guest-box login-box"},[!e.hideLoginForm||e.directLogin?t("div",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.passwordlessLogin||e.resetPassword||""!==e.resetPasswordTarget?!e.loading&&e.passwordlessLogin?t("div",{key:"reset",staticClass:"login-additional"},[t("PasswordLessLoginForm",{attrs:{username:e.user,"redirect-url":e.redirectUrl,"auto-complete-allowed":e.autoCompleteAllowed,"is-https":e.isHttps,"is-localhost":e.isLocalhost,"has-public-key-credential":e.hasPublicKeyCredential},on:{"update:username":function(t){e.user=t},submit:function(t){e.loading=!0}}}),e._v(" "),t("a",{staticClass:"login-box__link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.passwordlessLogin=!1}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Back"))+"\n\t\t\t\t")])],1):!e.loading&&e.canResetPassword?t("div",{key:"reset",staticClass:"login-additional"},[t("div",{staticClass:"lost-password-container"},[e.resetPassword?t("ResetPassword",{attrs:{username:e.user,"reset-password-link":e.resetPasswordLink},on:{"update:username":function(t){e.user=t},abort:function(t){e.resetPassword=!1}}}):e._e()],1)]):""!==e.resetPasswordTarget?t("div",[t("UpdatePassword",{attrs:{username:e.user,"reset-password-target":e.resetPasswordTarget},on:{"update:username":function(t){e.user=t},done:e.passwordResetFinished}})],1):e._e():t("div",[t("LoginForm",{attrs:{username:e.user,"redirect-url":e.redirectUrl,"direct-login":e.directLogin,messages:e.messages,errors:e.errors,"throttle-delay":e.throttleDelay,"auto-complete-allowed":e.autoCompleteAllowed},on:{"update:username":function(t){e.user=t},submit:function(t){e.loading=!0}}}),e._v(" "),e.canResetPassword&&""!==e.resetPasswordLink?t("a",{staticClass:"login-box__link",attrs:{id:"lost-password",href:e.resetPasswordLink}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Forgot password?"))+"\n\t\t\t\t")]):e.canResetPassword&&!e.resetPassword?t("a",{staticClass:"login-box__link",attrs:{id:"lost-password",href:e.resetPasswordLink},on:{click:function(t){t.preventDefault(),e.resetPassword=!0}}},[e._v("\n\t\t\t\t\t"+e._s(e.t("core","Forgot password?"))+"\n\t\t\t\t")]):e._e(),e._v(" "),e.hasPasswordless?[e.countAlternativeLogins?t("div",{staticClass:"alternative-logins"},[e.hasPasswordless?t("a",{staticClass:"button",class:{"single-alt-login-option":e.countAlternativeLogins},attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.passwordlessLogin=!0}}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.t("core","Log in with a device"))+"\n\t\t\t\t\t\t")]):e._e()]):t("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.passwordlessLogin=!0}}},[e._v("\n\t\t\t\t\t\t"+e._s(e.t("core","Log in with a device"))+"\n\t\t\t\t\t")])]:e._e()],2)])],1):t("div",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("NcNoteCard",{attrs:{type:"warning",title:e.t("core","Login form is disabled.")}},[e._v("\n\t\t\t\t"+e._s(e.t("core","Please contact your administrator."))+"\n\t\t\t")])],1)],1),e._v(" "),t("div",{staticClass:"alternative-logins",attrs:{id:"alternative-logins"}},e._l(e.alternativeLogins,(function(n,o){return t("NcButton",{key:o,class:[n.class],attrs:{type:"secondary",wide:!0,role:"link",href:n.href}},[e._v("\n\t\t\t"+e._s(n.name)+"\n\t\t")])})),1)])}),[],!1,null,null,null).exports,Yt={data:()=>({OC:ze}),methods:{t:Ae.translate.bind(Ae),n:Ae.translatePlural.bind(Ae)}};a.ZP.mixin(Yt),(new(a.ZP.extend(Ht))).$mount("#login")},49665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,".button-vue[data-v-756414a8]{margin-top:.5rem}","",{version:3,sources:["webpack://./core/src/components/login/LoginButton.vue"],names:[],mappings:"AACA,6BACC,gBAAA",sourcesContent:["\n.button-vue {\n\tmargin-top: .5rem;\n}\n"],sourceRoot:""}]);const r=s},63705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,".login-form[data-v-6e9b41c5]{text-align:left;font-size:1rem}.login-form__fieldset[data-v-6e9b41c5]{width:100%;display:flex;flex-direction:column;gap:.5rem}.login-form__headline[data-v-6e9b41c5]{text-align:center}","",{version:3,sources:["webpack://./core/src/components/login/LoginForm.vue"],names:[],mappings:"AACA,6BACC,eAAA,CACA,cAAA,CAEA,uCACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,SAAA,CAGD,uCACC,iBAAA",sourcesContent:["\n.login-form {\n\ttext-align: left;\n\tfont-size: 1rem;\n\n\t&__fieldset {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: .5rem;\n\t}\n\n\t&__headline {\n\t\ttext-align: center;\n\t}\n}\n"],sourceRoot:""}]);const r=s},36822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,".body-login-container.update[data-v-adf4afc4]{margin:15px 0}.body-login-container.update.form__message-box[data-v-adf4afc4]{width:240px;margin:5px}","",{version:3,sources:["webpack://./core/src/components/login/PasswordLessLoginForm.vue"],names:[],mappings:"AACA,8CACC,aAAA,CAEA,gEACC,WAAA,CACA,UAAA",sourcesContent:["\n.body-login-container.update {\n\tmargin: 15px 0;\n\n\t&.form__message-box {\n\t\twidth: 240px;\n\t\tmargin: 5px;\n\t}\n}\n"],sourceRoot:""}]);const r=s},28032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,".login-form[data-v-27cabc60]{text-align:left;font-size:1rem}.login-form__fieldset[data-v-27cabc60]{width:100%;display:flex;flex-direction:column;gap:.5rem}.login-form__link[data-v-27cabc60]{display:block;font-weight:normal !important;padding-bottom:1rem;cursor:pointer;font-size:var(--default-font-size);text-align:center;padding:.5rem 1rem 1rem 1rem}","",{version:3,sources:["webpack://./core/src/components/login/ResetPassword.vue"],names:[],mappings:"AACA,6BACC,eAAA,CACA,cAAA,CAEA,uCACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,SAAA,CAGD,mCACC,aAAA,CACA,6BAAA,CACA,mBAAA,CACA,cAAA,CACA,kCAAA,CACA,iBAAA,CACA,4BAAA",sourcesContent:["\n.login-form {\n\ttext-align: left;\n\tfont-size: 1rem;\n\n\t&__fieldset {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: .5rem;\n\t}\n\n\t&__link {\n\t\tdisplay: block;\n\t\tfont-weight: normal !important;\n\t\tpadding-bottom: 1rem;\n\t\tcursor: pointer;\n\t\tfont-size: var(--default-font-size);\n\t\ttext-align: center;\n\t\tpadding: .5rem 1rem 1rem 1rem;\n\t}\n}\n"],sourceRoot:""}]);const r=s},20549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,"body{font-size:var(--default-font-size)}.login-box{width:300px}.login-box__link{display:block;padding:1rem;font-size:var(--default-font-size);text-align:center;font-weight:normal !important}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.alternative-logins{display:flex;flex-direction:column;gap:.75rem}.alternative-logins .button-vue{box-sizing:border-box}","",{version:3,sources:["webpack://./core/src/views/Login.vue"],names:[],mappings:"AACA,KACC,kCAAA,CAGD,WACC,WAAA,CAEA,iBACC,aAAA,CACA,YAAA,CACA,kCAAA,CACA,iBAAA,CACA,6BAAA,CAGF,sCACC,sBAAA,CAED,2BACC,SAAA,CAGD,oBACC,YAAA,CACA,qBAAA,CACA,UAAA,CAEA,gCACC,qBAAA",sourcesContent:["\nbody {\n\tfont-size: var(--default-font-size);\n}\n\n.login-box {\n\twidth: 300px;\n\n\t&__link {\n\t\tdisplay: block;\n\t\tpadding: 1rem;\n\t\tfont-size: var(--default-font-size);\n\t\ttext-align: center;\n\t\tfont-weight: normal !important;\n\t}\n}\n.fade-enter-active, .fade-leave-active {\n\ttransition: opacity .3s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n\topacity: 0;\n}\n\n.alternative-logins {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.75rem;\n\n\t.button-vue {\n\t\tbox-sizing: border-box;\n\t}\n}\n"],sourceRoot:""}]);const r=s},74778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(87537),i=n.n(o),a=n(23645),s=n.n(a)()(i());s.push([e.id,"\nfieldset[data-v-4dc21d74] {\n\ttext-align: center;\n}\ninput[type=submit][data-v-4dc21d74] {\n\tmargin-top: 20px;\n}\n","",{version:3,sources:["webpack://./core/src/components/login/UpdatePassword.vue"],names:[],mappings:";AA4IA;CACA,kBAAA;AACA;AAEA;CACA,gBAAA;AACA",sourcesContent:["\x3c!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n\n<template>\n\t<form @submit.prevent=\"submit\">\n\t\t<fieldset>\n\t\t\t<p>\n\t\t\t\t<label for=\"password\" class=\"infield\">{{ t('core', 'New password') }}</label>\n\t\t\t\t<input id=\"password\"\n\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t\t:placeholder=\"t('core', 'New password')\">\n\t\t\t</p>\n\n\t\t\t<div v-if=\"encrypted\" class=\"update\">\n\t\t\t\t<p>\n\t\t\t\t\t{{ t('core', 'Your files are encrypted. There will be no way to get your data back after your password is reset. If you are not sure what to do, please contact your administrator before you continue. Do you really want to continue?') }}\n\t\t\t\t</p>\n\t\t\t\t<input id=\"encrypted-continue\"\n\t\t\t\t\tv-model=\"proceed\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label for=\"encrypted-continue\">\n\t\t\t\t\t{{ t('core', 'I know what I\\'m doing') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t<LoginButton :loading=\"loading\"\n\t\t\t\t:value=\"t('core', 'Reset password')\"\n\t\t\t\t:value-loading=\"t('core', 'Resetting password')\" />\n\n\t\t\t<p v-if=\"error && message\" :class=\"{warning: error}\">\n\t\t\t\t{{ message }}\n\t\t\t</p>\n\t\t</fieldset>\n\t</form>\n</template>\n\n<script>\nimport Axios from '@nextcloud/axios'\nimport LoginButton from './LoginButton.vue'\n\nexport default {\n\tname: 'UpdatePassword',\n\tcomponents: {\n\t\tLoginButton,\n\t},\n\tprops: {\n\t\tusername: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tresetPasswordTarget: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\tloading: false,\n\t\t\tmessage: undefined,\n\t\t\tuser: this.username,\n\t\t\tpassword: '',\n\t\t\tencrypted: false,\n\t\t\tproceed: false,\n\t\t}\n\t},\n\twatch: {\n\t\tusername(value) {\n\t\t\tthis.user = value\n\t\t},\n\t},\n\tmethods: {\n\t\tasync submit() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = false\n\t\t\tthis.message = ''\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await Axios.post(this.resetPasswordTarget, {\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t\tproceed: this.proceed,\n\t\t\t\t})\n\t\t\t\tif (data && data.status === 'success') {\n\t\t\t\t\tthis.message = 'send-success'\n\t\t\t\t\tthis.$emit('update:username', this.user)\n\t\t\t\t\tthis.$emit('done')\n\t\t\t\t} else if (data && data.encryption) {\n\t\t\t\t\tthis.encrypted = true\n\t\t\t\t} else if (data && data.msg) {\n\t\t\t\t\tthrow new Error(data.msg)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = true\n\t\t\t\tthis.message = e.message ? e.message : t('core', 'Password cannot be changed. Please contact your administrator.')\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n\tfieldset {\n\t\ttext-align: center;\n\t}\n\n\tinput[type=submit] {\n\t\tmargin-top: 20px;\n\t}\n</style>\n"],sourceRoot:""}]);const r=s},10944:(e,t,n)=>{var o=n(40202);e.exports=(o.default||o).template({1:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"profileUrl"):a,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(5,i,0),data:i,loc:{start:{line:2,column:1},end:{line:10,column:8}}}))?a:""},2:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"profileTitle"):a,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:2},end:{line:7,column:9}}}))?a:""},3:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<a class="profile-link--avatar" href="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"profileUrl"):a,t))+'">\n\t\t\t\t<img src="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+'&size=32" class="avatar" srcset="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+"&size=32 1x, "+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+"&size=64 2x, "+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+'&size=128 4x" alt="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatarLabel"):a,t))+'">\n\t\t\t</a>\n'},5:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<img src="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+'&size=32" class="avatar" srcset="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+"&size=32 1x, "+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+"&size=64 2x, "+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatar"):a,t))+'&size=128 4x" alt="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"avatarLabel"):a,t))+'">\n'},7:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"profileUrl"):a,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(11,i,0),data:i,loc:{start:{line:12,column:1},end:{line:20,column:8}}}))?a:""},8:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"profileTitle"):a,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:2},end:{line:17,column:9}}}))?a:""},9:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<a class="profile-link--avatar" href="'+e.escapeExpression(e.lambda(null!=(a=null!=t?s(t,"contact"):t)?s(a,"profileUrl"):a,t))+'">\n\t\t\t\t<div class="avatar"></div>\n\t\t\t</a>\n'},11:function(e,t,n,o,i){return'\t\t<div class="avatar"></div>\n'},13:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"profileTitle"):a,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i,loc:{start:{line:23,column:1},end:{line:29,column:8}}}))?a:"")+(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"topAction"):a,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i,loc:{start:{line:30,column:1},end:{line:34,column:8}}}))?a:"")},14:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<a class="body profile-link--full-name" href="'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"profileUrl"):a,t))+'">\n\t\t\t<div class="full-name">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"fullName"):a,t))+'</div>\n\t\t\t<div class="last-message">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"lastMessage"):a,t))+'</div>\n\t\t\t<div class="email-address">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"emailAddresses"):a,t))+"</div>\n\t\t</a>\n"},16:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<a class="top-action" href="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"hyperlink"):a,t))+'" title="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"title"):a,t))+'" aria-label="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"title"):a,t))+'">\n\t\t\t<img src="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"icon"):a,t))+'" alt="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"title"):a,t))+'">\n\t\t</a>\n'},18:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"topAction"):a,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i,loc:{start:{line:35,column:0},end:{line:50,column:0}}}))?a:""},19:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<a class="body" href="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"hyperlink"):a,t))+'">\n\t\t<div class="full-name">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"fullName"):a,t))+'</div>\n\t\t<div class="last-message">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"lastMessage"):a,t))+'</div>\n\t\t<div class="email-address">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"emailAddresses"):a,t))+'</div>\n\t</a>\n  \t<a class="top-action" href="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"hyperlink"):a,t))+'" title="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"title"):a,t))+'">\n  \t\t<img src="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"icon"):a,t))+'" alt="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"topAction"):a)?l(a,"title"):a,t))+'">\n\t</a>\n'},21:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<div class="body">\n\t\t<div class="full-name">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"fullName"):a,t))+'</div>\n\t\t<div class="last-message">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"lastMessage"):a,t))+'</div>\n\t\t<div class="email-address">'+r(s(null!=(a=null!=t?l(t,"contact"):t)?l(a,"emailAddresses"):a,t))+"</div>\n\t</div>\n"},23:function(e,t,n,o,i){var a,s=e.lambda,r=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="second-action" href="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"secondAction"):a)?l(a,"hyperlink"):a,t))+'" aria-label="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"secondAction"):a)?l(a,"title"):a,t))+'" title="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"secondAction"):a)?l(a,"title"):a,t))+'">\n\t<img src="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"secondAction"):a)?l(a,"icon"):a,t))+'" alt="'+r(s(null!=(a=null!=(a=null!=t?l(t,"contact"):t)?l(a,"secondAction"):a)?l(a,"title"):a,t))+'">\n</a>\n'},25:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<button class="other-actions icon-more"></button>\n\t<div class="menu popovermenu">\n\t\t<ul>\n'+(null!=(a=s(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?s(t,"contact"):t)?s(a,"actions"):a,{name:"each",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i,loc:{start:{line:60,column:3},end:{line:67,column:12}}}))?a:"")+"\t\t</ul>\n\t</div>\n"},26:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<li>\n\t\t\t\t<a href="'+c(typeof(a=null!=(a=d(n,"hyperlink")||(null!=t?d(t,"hyperlink"):t))?a:r)===l?a.call(s,{name:"hyperlink",hash:{},data:i,loc:{start:{line:62,column:13},end:{line:62,column:26}}}):a)+'">\n\t\t\t\t\t<img src="'+c(typeof(a=null!=(a=d(n,"icon")||(null!=t?d(t,"icon"):t))?a:r)===l?a.call(s,{name:"icon",hash:{},data:i,loc:{start:{line:63,column:15},end:{line:63,column:23}}}):a)+'" alt="">\n\t\t\t\t\t<span>'+c(typeof(a=null!=(a=d(n,"title")||(null!=t?d(t,"title"):t))?a:r)===l?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:64,column:11},end:{line:64,column:20}}}):a)+"</span>\n\t\t\t\t</a>\n\t\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"avatar"):a,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(7,i,0),data:i,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?a:"")+(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"profileUrl"):a,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(18,i,0),data:i,loc:{start:{line:22,column:0},end:{line:50,column:7}}}))?a:"")+(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"hasTwoActions"):a,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i,loc:{start:{line:51,column:0},end:{line:55,column:7}}}))?a:"")+(null!=(a=r(n,"if").call(s,null!=(a=null!=t?r(t,"contact"):t)?r(a,"hasManyActions"):a,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i,loc:{start:{line:56,column:0},end:{line:70,column:7}}}))?a:"")},useData:!0})},20421:(e,t,n)=>{var o=n(40202);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="emptycontent">\n\t<div class="icon-search"></div>\n\t<h2>'+e.escapeExpression("function"==typeof(a=null!=(a=s(n,"couldNotLoadText")||(null!=t?s(t,"couldNotLoadText"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"couldNotLoadText",hash:{},data:i,loc:{start:{line:3,column:5},end:{line:3,column:25}}}):a)+"</h2>\n</div>\n"},useData:!0})},34083:(e,t,n)=>{var o=n(40202);e.exports=(o.default||o).template({1:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="emptycontent">\n\t<div class="icon-search"></div>\n\t<h2>'+e.escapeExpression("function"==typeof(a=null!=(a=s(n,"noContactsFoundText")||(null!=t?s(t,"noContactsFoundText"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"noContactsFoundText",hash:{},data:i,loc:{start:{line:4,column:5},end:{line:4,column:28}}}):a)+"</h2>\n</div>\n"},3:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="footer"><a href="'+c(typeof(a=null!=(a=d(n,"contactsAppURL")||(null!=t?d(t,"contactsAppURL"):t))?a:r)===l?a.call(s,{name:"contactsAppURL",hash:{},data:i,loc:{start:{line:9,column:29},end:{line:9,column:47}}}):a)+'">'+c(typeof(a=null!=(a=d(n,"showAllContactsText")||(null!=t?d(t,"showAllContactsText"):t))?a:r)===l?a.call(s,{name:"showAllContactsText",hash:{},data:i,loc:{start:{line:9,column:49},end:{line:9,column:72}}}):a)+"</a></div>\n"},5:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"canInstallApp"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:0},end:{line:12,column:0}}}))?a:""},6:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="footer"><a href="'+c(typeof(a=null!=(a=d(n,"contactsAppMgmtURL")||(null!=t?d(t,"contactsAppMgmtURL"):t))?a:r)===l?a.call(s,{name:"contactsAppMgmtURL",hash:{},data:i,loc:{start:{line:11,column:29},end:{line:11,column:51}}}):a)+'">'+c(typeof(a=null!=(a=d(n,"contactsAppMgmtText")||(null!=t?d(t,"contactsAppMgmtText"):t))?a:r)===l?a.call(s,{name:"contactsAppMgmtText",hash:{},data:i,loc:{start:{line:11,column:53},end:{line:11,column:76}}}):a)+"</a></div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=r(n,"unless").call(s,null!=(a=null!=t?r(t,"contacts"):t)?r(a,"length"):a,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:6,column:11}}}))?a:"")+'<div id="contactsmenu-contacts"></div>\n'+(null!=(a=r(n,"if").call(s,null!=t?r(t,"contactsAppEnabled"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(5,i,0),data:i,loc:{start:{line:8,column:0},end:{line:12,column:7}}}))?a:"")},useData:!0})},95386:(e,t,n)=>{var o=n(40202);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="emptycontent">\n\t<div class="icon-loading"></div>\n\t<h2>'+e.escapeExpression("function"==typeof(a=null!=(a=s(n,"loadingText")||(null!=t?s(t,"loadingText"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"loadingText",hash:{},data:i,loc:{start:{line:3,column:5},end:{line:3,column:20}}}):a)+"</h2>\n</div>\n"},useData:!0})},66115:(e,t,n)=>{var o=n(40202);e.exports=(o.default||o).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,o,i){var a,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label class="hidden-visually" for="contactsmenu-search">'+c(typeof(a=null!=(a=d(n,"searchContactsText")||(null!=t?d(t,"searchContactsText"):t))?a:r)===l?a.call(s,{name:"searchContactsText",hash:{},data:i,loc:{start:{line:1,column:57},end:{line:1,column:79}}}):a)+'</label>\n<input id="contactsmenu-search" type="search" placeholder="'+c(typeof(a=null!=(a=d(n,"searchContactsText")||(null!=t?d(t,"searchContactsText"):t))?a:r)===l?a.call(s,{name:"searchContactsText",hash:{},data:i,loc:{start:{line:2,column:59},end:{line:2,column:81}}}):a)+'" value="'+c(typeof(a=null!=(a=d(n,"searchTerm")||(null!=t?d(t,"searchTerm"):t))?a:r)===l?a.call(s,{name:"searchTerm",hash:{},data:i,loc:{start:{line:2,column:90},end:{line:2,column:104}}}):a)+'">\n<div class="content">\n</div>\n'},useData:!0})},46700:(e,t,n)=>{var o={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=46700}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},e=[],a.O=(t,n,o,i)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(r=!1,i<s&&(s=i));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=4577,(()=>{a.b=document.baseURI||self.location.href;var e={4577:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,s=n[0],r=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var d=l(a)}for(t&&t(n);c<s.length;c++)i=s[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0;var s=a.O(void 0,[7874],(()=>a(21483)));s=a.O(s)})();
//# sourceMappingURL=core-login.js.map?v=6b54e83694e2a9903189